"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["src_page_V42Project_V42MulitItem_index_jsx"],{54354:(e,t,n)=>{n.r(t),n.d(t,{default:()=>me});var a=n(10467),r=n(80296),c=n(54756),u=n.n(c),o=n(96540),l=n(26877),s=n(45458),i=n(88878),m=n(58168),f=n(64467),d=n(80045),p=n(23029),v=n(92901),h=n(85501),A=n(56822),b=n(53954),E=n(32485),k=n.n(E);function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,b.A)(e);if(t){var r=(0,b.A)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,A.A)(this,n)}}var y=function(e){(0,h.A)(n,e);var t=w(n);function n(){return(0,p.A)(this,n),t.apply(this,arguments)}return(0,v.A)(n,[{key:"render",value:function(){var e,t=this.props,n=t.prefixCls,a=t.className,r=t.hasArrow,c=t.icon,u=t.title,l=t.description,s=t.help,i=t.disabled,p=t.onClick,v=t.children,h=(0,d.A)(t,["prefixCls","className","hasArrow","icon","title","description","help","disabled","onClick","children"]),A=k()(n,a,(e={},(0,f.A)(e,"".concat(n,"--disabled"),i),(0,f.A)(e,"".concat(n,"--link"),!i&&!!p),(0,f.A)(e,"".concat(n,"--arrow"),r),e)),b=k()("".concat(n,"__title"),(0,f.A)({},"".concat(n,"__title--label"),!!v)),E=c&&o.createElement("div",{className:"".concat(n,"__icon")},c),w=u&&o.createElement("div",{className:b},u),y=v&&o.createElement("div",{className:"".concat(n,"__content")},v),x=r&&o.createElement("div",{className:"".concat(n,"__arrow")}),g=s&&o.createElement("div",{className:"".concat(n,"__help")},s);return o.createElement("div",(0,m.A)({className:A,onClick:p,onTouchStart:function(){}},h),o.createElement("div",{className:"".concat(n,"__inner")},o.createElement("div",{className:"".concat(n,"__header")},E),o.createElement("div",{className:"".concat(n,"__body")},w,y),o.createElement("div",{className:"".concat(n,"__footer")},l),x),g)}}]),n}(o.PureComponent);function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,b.A)(e);if(t){var r=(0,b.A)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,A.A)(this,n)}}y.defaultProps={prefixCls:"za-cell",hasArrow:!1,disabled:!1};var g=function(e){(0,h.A)(n,e);var t=x(n);function n(){var e,a,r;(0,p.A)(this,n);for(var c=arguments.length,u=new Array(c),o=0;o<c;o++)u[o]=arguments[o];return(e=t.call.apply(t,[this].concat(u))).state={checked:(a=e.props,r=!1,void 0!==a.checked?a.checked:void 0!==a.defaultChecked?a.defaultChecked:r)},e.onValueChange=function(t){var n=e.props,a=n.disabled,r=n.onChange,c=e.state.checked;if(!a){var u=!c;"checked"in e.props||e.setState({checked:u}),"function"==typeof r&&r(t)}},e}return(0,v.A)(n,[{key:"render",value:function(){var e,t=this.props,n=t.prefixCls,a=t.className,r=t.type,c=(t.shape,t.value),u=(t.checked,t.defaultChecked,t.disabled),l=t.id,s=t.children,i=(t.onChange,(0,d.A)(t,["prefixCls","className","type","shape","value","checked","defaultChecked","disabled","id","children","onChange"])),p=this.state.checked,v=k()(n,a,(e={},(0,f.A)(e,"".concat(n,"--checked"),p),(0,f.A)(e,"".concat(n,"--disabled"),u),(0,f.A)(e,"".concat(n,"--untext"),!s),e)),h=o.createElement("input",{id:l,type:"radio",className:"".concat(n,"__input"),value:c,disabled:u,checked:p,onChange:this.onValueChange}),A=o.createElement("span",(0,m.A)({className:v},i),o.createElement("span",{className:"".concat(n,"__widget")},o.createElement("span",{className:"".concat(n,"__inner")})),s&&o.createElement("span",{className:"".concat(n,"__text")},s),h);return"cell"===r?o.createElement(y,(0,m.A)({disabled:u,className:a,onClick:function(){}},i),A):"button"===r?o.createElement("button",(0,m.A)({type:"button",disabled:u,className:v},i),s,h):A}}],[{key:"getDerivedStateFromProps",value:function(e,t){return"checked"in e&&e.checked!==t.prevChecked?{checked:e.checked,prevChecked:e.checked}:null}}]),n}(o.PureComponent);function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,b.A)(e);if(t){var r=(0,b.A)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,A.A)(this,n)}}g.Group=void 0,g.defaultProps={prefixCls:"za-radio",disabled:!1,shape:"radius"};var C=function(e){var t=null;return o.Children.forEach(e,(function(e){(0,o.isValidElement)(e)&&e.props&&e.props.checked&&(t=e.props.value)})),t},S=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return void 0!==e.value?e.value:void 0!==e.defaultValue?e.defaultValue:C(e.children)?C(e.children):t},B=function(e){(0,h.A)(n,e);var t=N(n);function n(){var e;(0,p.A)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={value:S(e.props)},e.onChildChange=function(t){e.setState({value:t});var n=e.props.onChange;"function"==typeof n&&n(t)},e}return(0,v.A)(n,[{key:"render",value:function(){var e,t=this,n=this.props,a=n.prefixCls,r=n.className,c=n.size,u=n.shape,l=n.type,s=n.block,i=n.disabled,p=n.compact,v=n.ghost,h=n.children,A=(n.onChange,n.defaultValue,n.value,(0,d.A)(n,["prefixCls","className","size","shape","type","block","disabled","compact","ghost","children","onChange","defaultValue","value"])),b=this.state.value,E=o.Children.map(h,(function(e,n){return(0,o.cloneElement)(e,{key:n,type:l,shape:u,disabled:i||!!e.props.disabled,checked:b===e.props.value,onChange:function(n){"function"==typeof e.props.onChange&&e.props.onChange(n),t.onChildChange(e.props.value)}})})),w=k()(a,r,(e={},(0,f.A)(e,"".concat(a,"--").concat(l),!!l),(0,f.A)(e,"".concat(a,"--").concat(c),!!c),(0,f.A)(e,"".concat(a,"--").concat(u),!!u),(0,f.A)(e,"".concat(a,"--block"),s),(0,f.A)(e,"".concat(a,"--disabled"),i),(0,f.A)(e,"".concat(a,"--compact"),p),(0,f.A)(e,"".concat(a,"--ghost"),v),e));return o.createElement("div",(0,m.A)({className:w},A),o.createElement("div",{className:"".concat(a,"__inner")},E))}}],[{key:"getDerivedStateFromProps",value:function(e){return"value"in e?{value:e.value}:null}}]),n}(o.PureComponent);B.displayName="RadioGroup",B.defaultProps={prefixCls:"za-radio-group",shape:"radius",block:!1,disabled:!1,compact:!1,ghost:!1,size:"xs"},g.Group=B;const O=g;var T=n(72864),P=n(80060),j=n(44040),D=n(13907),V=n(95146),R=n(89541),I=n(70750),F=n(78015),L=n(2543),_=n(41679),U=n(34285),G=n(16889);function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){(0,f.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function z(e){var t=e.dataList,n=e.visibleModal,c=e.onCloseAfter,l=e.onSubmitAfter,m=e.modalmulitName,f=(0,D.B)().t,d=(0,o.useRef)(),p=(0,U.A)().tokenList,v=(0,o.useState)(!1),h=(0,r.A)(v,2),A=h[0],b=h[1],E=(0,o.useState)(null),k=(0,r.A)(E,2),w=k[0],y=k[1],x=(0,o.useState)(!1),g=(0,r.A)(x,2),N=g[0],C=g[1],S=(0,o.useState)({}),B=(0,r.A)(S,2),O=B[0],P=B[1],M=(0,o.useState)(0),z=(0,r.A)(M,2),H=z[0],Q=z[1],W=(0,o.useState)(""),q=(0,r.A)(W,2),K=q[0],X=q[1],Y=(0,o.useState)(""),Z=(0,r.A)(Y,2),$=Z[0],ee=Z[1],te=(0,o.useState)(""),ne=(0,r.A)(te,2),ae=ne[0],re=ne[1],ce=(0,o.useState)([]),ue=(0,r.A)(ce,2),oe=ue[0],le=ue[1],se=(0,o.useState)(""),ie=(0,r.A)(se,2),me=ie[0],fe=ie[1],de=(0,o.useState)([]),pe=(0,r.A)(de,2),ve=pe[0],he=pe[1],Ae=(0,o.useState)([]),be=(0,r.A)(Ae,2),Ee=be[0],ke=be[1],we=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];X(""),ee(""),re(""),le([]),fe(""),e&&P(ve[0]||{}),e&&y(null)},ye=function(){var e=(0,a.A)(u().mark((function e(){var t,n=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.length>0&&void 0!==n[0]?n[0]:"",O.label){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,(0,I.QJ)("BNB"==O.label?"":O.address,F.A[m]);case 5:t=e.sent,Q(t);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),xe=function(){var e=(0,a.A)(u().mark((function e(){var t,n,a,r,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!K||window.web3.utils.isAddress(K)||"1"==w.value){e.next=3;break}return i.A.show("请输入正确的地址"),e.abrupt("return",!1);case 3:if(t="",n="",console.log(w,"chooseValue"),"0"!=w.value){e.next=17;break}if("BNB"==O.label){e.next=14;break}return n=O.address,e.next=11,(0,_.bN)(K,(0,j.Gh)($).toFixed());case 11:t=e.sent,e.next=15;break;case 14:t="0x";case 15:e.next=38;break;case 17:if("6"!=w.value&&"7"!=w.value){e.next=24;break}return n=F.A[m],e.next=21,(0,_.hR)(K,"6"==w.value?"addOwner":"removeOwner");case 21:t=e.sent,e.next=38;break;case 24:if("8"!=w.value){e.next=31;break}return n=F.A[m],e.next=28,(0,_.RQ)($);case 28:t=e.sent,e.next=38;break;case 31:if("4"==w.value){e.next=38;break}return n=O.address,a=oe.filter((function(e){return e})),r=O.paramType.map((function(e,t){var n=a[t];return e.indexOf("[]")>-1&&e.indexOf("bool")>-1?n=(0,s.A)(n.split("-").filter((function(e){return e})).map((function(e){return"1"==e}))):e.indexOf("[]")>-1?n=(0,s.A)(n.split("-").filter((function(e){return e}))):e.indexOf("bool")>-1&&(n="1"==n),n})),e.next=37,(0,_.pT)(O.abi,O.value,r);case 37:t=e.sent;case 38:return c=[n,0,t],"4"==w.value?c=[K,(0,j.Gh)($).toFixed(0),ae]:"0"==w.value&&"BNB"==O.label&&(c=[K,(0,j.Gh)($).toFixed(0),t]),e.next=42,(0,_.PR)(m,c,me);case 42:e.sent&&(ge(),l());case 44:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ge=function(){we(),c()};return(0,o.useEffect)((function(){"0"==(null==w?void 0:w.value)&&ye(),we(!1)}),[w,O]),(0,o.useEffect)((function(){"0"==(null==w?void 0:w.value)?he((0,s.A)(Ee)):null!=w&&w.hasSecond?he(null==w?void 0:w.secondLsit):(he([]),P({}))}),[w]),(0,o.useEffect)((function(){ve[0]&&P(ve[0])}),[ve]),(0,o.useEffect)((function(){null!=p&&p.length&&Ee.length!=(null==p?void 0:p.length)&&ke([].concat((0,s.A)(p.map((function(e){return J(J({},e),{},{value:e.symbol,label:e.symbol,address:"BNB"===e.symbol?"":e.address})}))),[{address:F.A.V42NEW,decimal:18,img:"".concat(G.nG,"/Logos/logo-yellow@2x.png"),symbol:"V42",value:"V42",label:"V42"}]))}),[p]),o.createElement("div",{className:"AddModal",ref:d},o.createElement(T.A,{title:"添加提案",visible:n,width:"80%",mountContainer:function(){return d.current},footer:w?o.createElement(o.Fragment,null,o.createElement("div",{className:"contentButton closeButton",onClick:ge},f("common.cancel")),o.createElement("div",{className:"contentButton",onClick:xe},f("common.submit"),"提议")):o.createElement("div",{className:"contentButton closeButton",onClick:ge},f("common.cancel"))},o.createElement("div",{className:"mb-15 structuredFundCFAdminItem flex-row",onClick:function(){b(!0)}},o.createElement("div",null,null!=w?w.label:"请选择"),o.createElement("img",{src:R.A,className:"pullimg"})),w?o.createElement(o.Fragment,null,o.createElement("div",null,w.hasSecond?o.createElement("div",{className:"mb-10 flex-row",onClick:function(){C(!0)}},"选择提案内容：",null==O?void 0:O.label,o.createElement("img",{src:R.A,className:"pullimg"})):null,["0"].indexOf(w.value)>-1?o.createElement("div",{className:"mb-10"},"可提议数量：",H):null,(0,L.get)(O,"paramType",[]).some((function(e){return e.indexOf("bool")>-1}))?o.createElement("div",{className:"mb-10"},"输入1代表true，输入其他代表false"):null,(0,L.get)(O,"paramType",[]).some((function(e){return e.indexOf("[]")>-1}))?o.createElement("div",{className:"mb-10"},'输入数组类型的数据，可以用"-"符号隔改。eg:1-2-3'):null,["0","4","6","7"].indexOf(w.value)>-1?o.createElement("div",{className:"contentInputView"},o.createElement("input",{placeholder:f("请输入地址"),value:K,onChange:function(e){X(e.target.value)},className:"contentInput"}),K?o.createElement("div",{style:{color:"#ccc"},onClick:function(){X("")}},"清除"):null):null,["0","4","8"].indexOf(w.value)>-1?o.createElement("div",{className:"contentInputView"},o.createElement("input",{placeholder:f("请输入数量"),value:$,onChange:function(e){ee(e.target.value)},className:"contentInput"}),$?o.createElement("div",{style:{color:"#ccc"},onClick:function(){ee("")}},"清除"):null):null),"4"!=w.value?null:o.createElement("div",{className:"contentInputView"},o.createElement("input",{placeholder:f("请输入自定义内容"),value:ae,onChange:function(e){re(e.target.value)},className:"contentInput"}),ae?o.createElement("div",{style:{color:"#ccc"},onClick:function(){re("")}},"清除"):null),(0,L.get)(O,"paramType",[]).map((function(e,t){return o.createElement("div",{className:"contentInputView",key:t},o.createElement("input",{placeholder:f("请输入".concat(e)),value:oe[t]||"",onChange:function(e){oe[t]=e.target.value,le((0,s.A)(oe))},className:"contentInput"}),oe[t]?o.createElement("div",{style:{color:"#ccc"},onClick:function(){oe[t]="",le((0,s.A)(oe))}},"清除"):null)})),w.value?o.createElement("div",{className:"contentInputView"},o.createElement("input",{placeholder:f("请输入提案描述"),value:me,onChange:function(e){fe(e.target.value)},className:"contentInput"}),me?o.createElement("div",{style:{color:"#ccc"},onClick:function(){fe("")}},"清除"):null):null):null),o.createElement(V.A,{visible:A,value:(null==w?void 0:w.value)||"0",title:f("common.choose"),okText:f("common.submit"),cancelText:f("common.cancel"),dataSource:t,onOk:function(e){y(e[0]),b(!1)},onCancel:function(){b(!1)}}),o.createElement(V.A,{visible:N,value:(null==O?void 0:O.value)||null,title:f("common.choose"),okText:f("common.submit"),cancelText:f("common.cancel"),dataSource:ve,onOk:function(e){P(e[0]),C(!1)},onCancel:function(){C(!1)}}))}var H=n(61801);function Q(e){var t=e.userinfo,n=e.mulitName,c=e.hasRoule,l=(0,D.B)().t,m=(0,o.useRef)(),f=H.A[n],d=(0,o.useState)([]),p=(0,r.A)(d,2),v=p[0],h=p[1],A=(0,o.useState)(!1),b=(0,r.A)(A,2),E=b[0],k=b[1],w=(0,o.useState)(!1),y=(0,r.A)(w,2),x=y[0],g=y[1],N=(0,o.useState)({}),C=(0,r.A)(N,2),S=C[0],B=C[1],V=(0,o.useState)("wait"),R=(0,r.A)(V,2),I=R[0],F=R[1],L=(0,o.useState)([]),U=(0,r.A)(L,2),G=U[0],M=U[1],J=(0,o.useState)(!1),Q=(0,r.A)(J,2),W=Q[0],q=Q[1],K=function(){var e=(0,a.A)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_.hn)(n);case 2:t=e.sent,h((0,s.A)(t));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),X=function(){var e=(0,a.A)(u().mark((function e(a){var r,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_.Kn)(n,a.id);case 2:return r=e.sent,e.next=5,(0,_.Q0)(n);case 5:c=e.sent,Array.isArray(r)||(r=[r]),g(!0),B({typeText:"提案编号：".concat(a.id),data:a.data,id:a.id,voteLength:c,agreeNum:r.length,canGoPro:r.length>=c,isfavo:r.indexOf(t.address)>-1});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=(0,a.A)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_.Ng)(n,t);case 2:e.sent&&(i.A.show("执行成功"),g(!1),B({}),K());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=(0,a.A)(u().mark((function e(t){var a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c){e.next=3;break}return i.A.show("您不是该多签的议员，无法创建提案"),e.abrupt("return",!1);case 3:if(a=null,!t){e.next=10;break}return e.next=7,(0,_.gj)(n,S.id);case 7:a=e.sent,e.next=13;break;case 10:return e.next=12,(0,_.jA)(n,S.id);case 12:a=e.sent;case 13:a&&(i.A.show("执行成功"),X(S));case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=(0,a.A)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_.g8)(n,t);case 2:e.sent&&(i.A.show("执行成功"),g(!1),B({}),K());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=function(){var e=(0,a.A)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_.wj)(S.id,n);case 2:t=e.sent,M(t),q(!0);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,o.useEffect)((function(){K()}),[null==t?void 0:t.address]),o.createElement("div",{className:"MultiSignature",ref:m},o.createElement(P.A,null,o.createElement("div",{className:"contentButton",onClick:function(){c?k(!0):i.A.show("您不是该多签的议员，无法创建提案")}},l("创建提案"))),o.createElement(P.A,null,o.createElement("div",{className:"flex-row-center fl-jc-between"},o.createElement("div",{className:"item-view"},"显示未执行提案"),o.createElement(O.Group,{type:"button",defaultValue:I,onChange:function(e){F(e)}},o.createElement(O,{value:"all"},"全部"),o.createElement(O,{value:"wait"},"未执行"),o.createElement(O,{value:"success"},"已执行"),o.createElement(O,{value:"discard"},"已废弃")))),("wait"==I?(0,s.A)(v):(0,s.A)(v).reverse()).map((function(e,n){return e.itemstatus==I||"all"==I?o.createElement(P.A,{key:e.id},o.createElement("div",{className:"flex-row-center fl-jc-between"},o.createElement("div",{className:"item-view"},o.createElement("div",{className:"flex-row-center fl-jc-between mb-10"},o.createElement("div",null,l("提案编号")),o.createElement("div",null,e.typeText)),o.createElement("div",{className:"flex-row-center fl-jc-between mb-10"},o.createElement("div",null,l("提案时间")),o.createElement("div",null,e.time)),o.createElement("div",{className:"flex-row-center fl-jc-between mb-10"},o.createElement("div",null,l("提案简述")),o.createElement("div",null,e.dec)),o.createElement("div",{className:"item-view-contents flex-row-center fl-jc-between"},o.createElement("div",null,l("目标地址")),o.createElement("div",null,(0,j.P1)(e.startAddree))),o.createElement("div",{className:"item-view-contents flex-row-center fl-jc-between"},o.createElement("div",null,l("提案地址")),o.createElement("div",null,(0,j.P1)(e.submitter))),o.createElement("div",{className:"item-view-contents flex-row-center fl-jc-between"},o.createElement("div",null,l("状态")),"wait"==e.itemstatus?o.createElement(o.Fragment,null,e.isConfirmed?o.createElement("div",{className:"ml-auto mr-10 contentButton",onClick:function(){$(e.id)}},"执行提案"):null,t.address==e.submitter?o.createElement("div",{className:"mr-10 contentButton",onClick:function(){Y(e.id)}},"废弃提案"):null,o.createElement("div",{className:"contentButton",onClick:function(){X(e)}},l("投票"))):"success"==e.itemstatus?o.createElement("div",{className:"font-color-green"},"已执行"):null)))):null})),o.createElement(z,{modalmulitName:n,visibleModal:E,dataList:f,onCloseAfter:function(){k(!1)},onSubmitAfter:function(){K()}}),o.createElement(T.A,{visible:x,footer:null,mountContainer:function(){return m.current}},o.createElement("div",{className:"mb-10 structuredFundCFAdminItem"},S.typeText),o.createElement("div",{className:"mb-10",style:{"word-break":"break-all"}},S.data),S.isfavo&&S.canGoPro||!S.canGoPro?o.createElement("div",{className:"contentButton mb-10",onClick:function(){Z(S.isfavo)},style:S.isfavo?{background:"#fb976a"}:{}},S.isfavo?"撤回投票(".concat(S.agreeNum,"/").concat(S.voteLength,")"):"赞成(".concat(S.agreeNum,"/").concat(S.voteLength,")")):null,c?o.createElement("div",{className:"contentButton mb-10",onClick:function(){ee()}},"投票列表列表"):null,o.createElement("div",{className:"contentButton",onClick:function(){g(!1),B({})}},"关闭")),o.createElement(T.A,{visible:W,footer:null,mountContainer:function(){return m.current}},G.map((function(e){return o.createElement("div",{className:"mb-10 flex-row fl-jc-between"},o.createElement("div",null,(0,j.P1)(e.address)),o.createElement("div",null,e.isOked?"已投票":"未投票"))})),o.createElement("div",{className:"contentButton",onClick:function(){M([]),q(!1)}},"关闭")))}n(46450);var W=n(35733),q=n(60346);function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){(0,f.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Y(e){e.userinfo;var t=e.mulitName,n=e.hasRoule,c=(0,D.B)().t,l=(0,U.A)().tokenList,m=(0,o.useRef)(),f=(0,o.useState)([]),d=(0,r.A)(f,2),p=d[0],v=d[1],h=(0,o.useState)(0),A=(0,r.A)(h,2),b=A[0],E=A[1],k=(0,o.useState)([]),w=(0,r.A)(k,2),y=w[0],x=w[1],g=(0,o.useState)([]),N=(0,r.A)(g,2),C=N[0],S=N[1],B=(0,o.useState)(!1),O=(0,r.A)(B,2),V=O[0],R=O[1],L=(0,o.useState)(null),G=(0,r.A)(L,2),M=G[0],J=G[1],z=(0,o.useState)(!1),Q=(0,r.A)(z,2),K=Q[0],Y=Q[1],Z=function(){var e=(0,a.A)(u().mark((function e(n){var a,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.map((function(e){return{abi:"erc20",address:e.address,method:"allowance",params:[F.A[t],F.A.TronParaRouterPeriphery]}})),e.next=3,(0,W.A)(a);case 3:return r=e.sent,e.abrupt("return",r.map((function(e,t){return"BNB"==n[t].symbol||n[t].symbol.indexOf("V42")>-1||new q.A((0,j.fm)(e)).isGreaterThan(1e8)})));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=(0,a.A)(u().mark((function e(n){var a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,I.N6)(F.A.USDT,F.A[t],F.A.ParaRouter);case 2:a=e.sent,x("0"!=a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=function(){var e=(0,a.A)(u().mark((function e(n){var a,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],r=n.map((function(e){return{abi:"erc20",address:e.address,method:"balanceOf",params:[F.A[t]]}})),e.next=4,(0,W.A)(r);case 4:return e.sent.forEach((function(e,r){"BNB"==n[r].symbol?a.push((0,I.QJ)("",F.A[t])):a.push((0,j.fm)(e||0).toFixed())})),e.next=8,Promise.all(a);case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=(0,a.A)(u().mark((function e(){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,I.QJ)(F.A.V42NEW,F.A[t]);case 2:n=e.sent,E(n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ne=function(){var e=(0,a.A)(u().mark((function e(t){var n,a,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t,"list"),$(t),te(t),e.next=5,Z(t);case 5:return n=e.sent,e.next=8,ee(t);case 8:a=e.sent,r=l.map((function(e,t){return X(X({},e),{},{isActive:n[t],balance:a[t]})})),S((0,s.A)(r.filter((function(e){return e.isActive&&"BNB"!=e.symbol&&"USDT"!=e.symbol&&-1==e.symbol.indexOf("V42")&&Number(e.balance)>0})))),v((0,s.A)(r));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ae=function(){var e=(0,a.A)(u().mark((function e(a){var r,c,o,l,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=3;break}return i.A.show("您不是该多签的议员，无法创建提案"),e.abrupt("return",!1);case 3:return r="",c=a.address,o=F.A.TronParaRouterPeriphery,l="approve ".concat(a.symbol," RPer"),"USDT"!==a.symbol||c||(c=F.A.USDT,o=F.A.ParaRouter,l="approve ".concat(a.symbol," Router")),e.next=10,(0,_.FW)(o);case 10:return r=e.sent,s=[c,0,r],e.next=14,(0,_.PR)(t,s,l);case 14:e.sent&&i.A.show("提交成功");case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),re=function(){var e=(0,a.A)(u().mark((function e(){var a,r,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=3;break}return i.A.show("您不是该多签的议员，无法创建提案"),e.abrupt("return",!1);case 3:return a=p.filter((function(e){return"USDT"!=e.symbol&&"BNB"!=e.symbol&&-1==e.symbol.indexOf("V42")&&e.isActive&&e.ischoose&&e.balance>0})).map((function(e,t){if("USDT"!=e.chooseCoin&&e.chooseCoin){if("BUSD"==e.chooseCoin)return[e.address,F.A.BUSD,F.A.USDT];var n=F.A[e.chooseCoin]||p.find((function(e){return e.symbol==e.chooseCoin})).address;return[e.address,n,F.A.USDT]}return[e.address,F.A.USDT]})),e.next=6,(0,_.cQ)([F.A.ParaRouter,a]);case 6:return r=e.sent,c=[F.A.TronParaRouterPeriphery,0,r],e.next=10,(0,_.PR)(t,c,"sell USDT");case 10:e.sent&&i.A.show("提交成功");case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ce=function(){var e=(0,a.A)(u().mark((function e(){var a,r,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=3;break}return i.A.show("您不是该多签的议员，无法创建提案"),e.abrupt("return",!1);case 3:return a=(p.find((function(e){return"USDT"==e.symbol}))||{}).balance,e.next=6,(0,_.pT)("router","swapExactTokensForTokensSupportingFeeOnTransferTokens",[(0,j.Gh)(a).toFixed(0,1),0,[F.A.USDT,F.A.V42NEW],F.A[t],parseInt((new Date).getTime()/1e3+7200)]);case 6:return r=e.sent,c=[F.A.ParaRouter,0,r],e.next=10,(0,_.PR)(t,c,"USDT buy V42");case 10:e.sent&&i.A.show("提交成功");case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ue=function(){var e=(0,a.A)(u().mark((function e(){var a,r,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=3;break}return i.A.show("您不是该多签的议员，无法创建提案"),e.abrupt("return",!1);case 3:return a=F.A.V42NEW,e.next=6,(0,_.bN)(H.A.BURN_ADDRESS,(0,j.Gh)(b).toFixed(0,1));case 6:return r=e.sent,c=[a,0,r],e.next=10,(0,_.PR)(t,c,"Destroy V42");case 10:e.sent&&i.A.show("提交成功");case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,o.useEffect)((function(){return l.length&&p.length!=l.length&&ne(l),function(){}}),[l]),o.createElement("div",{className:"BuyBackMulit",ref:m},o.createElement(P.A,null,o.createElement("div",{className:"mb-10"},"激活列表"),p.map((function(e,t){return-1!=e.symbol.indexOf("V42")?null:o.createElement("div",{className:"mb-10 flex-center fl-jc-between",key:t},o.createElement("div",{className:""},e.symbol),e.isActive?o.createElement("div",{className:""},"数量：",(0,j.ai)(e.balance)||0):o.createElement("div",{className:"contentButton",onClick:function(){ae(e)}},"创建多签激活提案"))}))),o.createElement(P.A,null,o.createElement("div",{className:"contentButton mb-10",onClick:function(){R(!0)}},"卖出Token获取USDT"),o.createElement("div",{className:""},"卖出的Token不包含BNB，USDT。BNB购买USDT需要单独多签")),o.createElement(P.A,null,y?o.createElement("div",{className:"contentButton mb-10",onClick:ce},"使用USDT买入V42"):o.createElement("div",{className:"contentButton mb-10",onClick:function(){ae({symbol:"USDT"})}},"多签激活USDT回购")),o.createElement(P.A,null,o.createElement("div",{className:"mb-10"},"待销毁V42数量：",(0,j.ai)(b)),o.createElement("div",{className:"contentButton mb-10",onClick:ue},"销毁V42")),o.createElement(T.A,{title:"选择代币",visible:V,width:"80%",mountContainer:function(){return m.current},footer:o.createElement(o.Fragment,null,o.createElement("div",{className:"contentButton closeButton",onClick:function(){R(!1)}},c("common.cancel")),o.createElement("div",{className:"contentButton",onClick:re},c("common.submit")))},C.map((function(e,t){return o.createElement("div",{className:"flex-row fl-jc-between mb-10",key:t},o.createElement("div",null,e.symbol),o.createElement("div",{className:"ml-auto",onClick:function(){!function(e){C[e].ischoose=!C[e].ischoose,S((0,s.A)(C))}(t)}},e.ischoose?"已选择":"未选择"),o.createElement("div",{className:"ml-10",onClick:function(){Y(!0),J(t)}},e.chooseCoin||"USDT"))}))),o.createElement(T.A,{title:"选择path",visible:K,width:"80%",mountContainer:function(){return m.current},footer:null},p.map((function(e,t){return o.createElement("div",{className:"flex-row fl-jc-between mb-10",key:t,onClick:function(){C[M].chooseCoin=e.symbol,S((0,s.A)(C)),Y(!1)}},o.createElement("div",null,e.symbol),o.createElement("div",{className:"ml-auto"},"选择"))}))))}var Z=n(56347),$=n(84973);n(21862),n(6572);function ee(e){var t=e.data,n=e.inputValue,a=e.changeInput,r=(0,D.B)().t;return o.createElement(o.Fragment,null,o.createElement("input",{placeholder:r("请输入".concat(t)),value:n||"",onChange:function(e){a(e.target.value)},className:"contentInput"}),n?o.createElement("div",{style:{color:"#ccc"},onClick:function(){a("")}},"清除"):null)}function te(e){var t=e.addChefInputList,n=e.addressAbi,c=e.getDataFunNameAdd,m=e.getDataFunNameUpdate,f=e.editChefInputList,d=e.viewHasRoule,p=(0,Z.g)().mulitname,v=(0,o.useState)([]),h=(0,r.A)(v,2),A=h[0],b=h[1],E=(0,o.useState)([]),k=(0,r.A)(E,2),w=k[0],y=k[1],x=(0,D.B)().t,g=(0,o.useState)(),N=(0,r.A)(g,2),C=N[0],S=N[1],B=(0,o.useState)(),O=(0,r.A)(B,2),T=O[0],j=O[1],V=function(){var e=(0,a.A)(u().mark((function e(a){var r,c,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A.length==t.length){e.next=3;break}return i.A.show("请输入正确的值"),e.abrupt("return",!1);case 3:r="","poolAdd"==a?(c=[].concat((0,s.A)(A),[[0,0,A[3],0,0]]),r=(0,_.rc)(n,a,[[c]])):"addPools"==a&&(o=L.zip.apply(void 0,(0,s.A)(A.map((function(e){return e.split("-")})))),r=(0,_.rc)("chef",a,[o])),r&&(console.log(r,a),w[2]=r,y((0,s.A)(w)));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=(0,a.A)(u().mark((function e(t){var a,r,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A.length==f.length){e.next=3;break}return i.A.show("请输入正确的值"),e.abrupt("return",!1);case 3:a="","setPoolsSous"==t?(r=A.map((function(e){return e.split("-")})),a=(0,_.rc)(n,"setPools",r)):"setPools"==t&&(c=A.map((function(e){return e.split("-")})),a=(0,_.rc)("chef",t,c)),a&&(w[2]=a,console.log(a,t),y((0,s.A)(w)));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=(0,a.A)(u().mark((function e(){var t,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d){e.next=3;break}return i.A.show("您不是该多签的议员，无法创建提案"),e.abrupt("return",!1);case 3:return e.next=5,(0,_.pT)("TimeLock","queueTransaction",[F.A[n],w[0]||"0",w[1]||"",w[2]||"",w[3]||""]);case 5:return t=e.sent,a=[F.A.TimeLock,0,t],e.next=9,(0,_.PR)(p,a,C);case 9:e.sent&&i.A.show("提交成功");case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=(0,a.A)(u().mark((function e(t){var a,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("executeTransaction"!=t){e.next=7;break}return e.next=3,(0,_.lj)([F.A[n],w[0]||"0",w[1]||"",w[2]||"",w[3]||""]);case 3:e.sent&&i.A.show("执行成功"),e.next=18;break;case 7:if(d){e.next=10;break}return i.A.show("您不是该多签的议员，无法创建提案"),e.abrupt("return",!1);case 10:return e.next=12,(0,_.pT)("TimeLock","cancelTransaction",[F.A[n],w[0]||"0",w[1]||"",w[2]||"",w[3]||""]);case 12:return a=e.sent,r=[F.A.TimeLock,0,a],e.next=16,(0,_.PR)(p,r,T);case 16:e.sent&&i.A.show("提交成功");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,o.useEffect)((function(){return function(){b([]),y([])}}),[n]),o.createElement(o.Fragment,null,o.createElement(P.A,null,o.createElement(l.A,{onChange:function(){b([]),y([])},tabs:[{title:x("添加池子"),node:o.createElement(o.Fragment,null,t.map((function(e,t){return o.createElement("div",{className:"contentInputView",key:t},o.createElement(ee,{data:e,inputValue:A[t],changeInput:function(e){A[t]=e,b((0,s.A)(A))}}))})),o.createElement("div",{className:"contentButton",onClick:function(){V(c)}},"增加池子生成Data"))},{title:x("修改池子"),node:o.createElement(o.Fragment,null,f.map((function(e,t){return o.createElement("div",{className:"contentInputView",key:t},o.createElement(ee,{data:e,inputValue:A[t],changeInput:function(e){A[t]=e,b((0,s.A)(A))}}))})),o.createElement("div",{className:"contentButton",onClick:function(){R(m)}},"修改池子生成Data"))}]})),o.createElement(P.A,null,[{type:"uint256",textShow:"发送BNB数量"},{type:"string",textShow:"描述"},{type:"bytes",textShow:"生成的Data"},{type:"uint256",textShow:"排队结束时间戳"}].map((function(e,t){return o.createElement("div",{className:"contentInputView",key:t},o.createElement(ee,{data:e.textShow,inputValue:w[t],changeInput:function(e){w[t]=e,y((0,s.A)(w))}}))}))),o.createElement(P.A,null,o.createElement("div",{className:"contentInputView"},o.createElement(ee,{data:"执行时间锁提案描述",inputValue:C,changeInput:function(e){S(e||"")}})),o.createElement("div",{className:"contentButton",onClick:I},"新增池子参数，发起提案")),o.createElement(P.A,null,o.createElement("div",{className:"contentButton mb-10",onClick:function(){U("executeTransaction")}},"执行池子参数，发布池子")),o.createElement(P.A,null,o.createElement("div",{className:"contentInputView"},o.createElement(ee,{data:"取消时间锁提案描述",inputValue:T,changeInput:function(e){j(e||"")}})),o.createElement("div",{className:"contentButton",onClick:function(){U("cancelTransaction")}},"取消池子参数(多签)，取消发布池子")))}function ne(e){e.userinfo,e.mulitName;var t=e.hasRoule,n=(0,D.B)().t,a=(0,o.useRef)();return(0,o.useEffect)((function(){return function(){}}),[]),o.createElement("div",{className:"BuyBackMulit",ref:a},o.createElement(l.A,{tabs:[{title:n("SousChef"),node:o.createElement(te,{viewHasRoule:t,addChefInputList:["token:抵押token地址","poolType:池子类型","minDeposit:最低充值","startBlock:开始时间区块号","claimDirectPercent:可直接提现比例","allocPoint:分配点数","redemptionDelay:到期赎回时间","redemptionPeriod:赎回周期,0表示活期"],addressAbi:"SousChef",editChefInputList:["pids:池子PID","allocPoint:分配点数"],getDataFunNameAdd:"poolAdd",getDataFunNameUpdate:"setPoolsSous"})},{title:n("MasterChef"),node:o.createElement(te,{viewHasRoule:t,addChefInputList:["token:抵押token地址","allocPoint:分配点","lastRewardBlock:区块号lastRewardBlock","accT42PerShare:accT42PerShare","ticket:VIP池门票","pooltype:池子种类"],editChefInputList:["pids","allocPoint"],addressAbi:"MasterChef",getDataFunNameAdd:"addPools",getDataFunNameUpdate:"setPools"})}]}))}function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function re(e){var t=e.data,n=e.inputValue,a=e.changeInput,r=(0,D.B)().t;return o.createElement(o.Fragment,null,o.createElement("input",{placeholder:r("请输入".concat(t)),value:n||"",onChange:function(e){a(e.target.value)},className:"contentInput"}),n?o.createElement("div",{style:{color:"#ccc"},onClick:function(){a("")}},"清除"):null)}function ce(e){var t=e.addChefInputList,n=e.getDataFunNameAdd,c=e.getDataFunNameUpdate,m=e.editChefInputList,d=e.viewHasRoule,p=e.abiList,v=e.updateType,h=(0,o.useRef)(),A=(0,Z.g)().mulitname,b=(0,o.useState)([]),E=(0,r.A)(b,2),k=E[0],w=E[1],y=(0,o.useState)([]),x=(0,r.A)(y,2),g=x[0],N=x[1],C=(0,o.useState)(""),S=(0,r.A)(C,2),B=S[0],O=S[1],j=(0,o.useState)(0),V=(0,r.A)(j,2),R=V[0],I=V[1],U=(0,o.useState)(!1),G=(0,r.A)(U,2),M=G[0],J=G[1],z=(0,o.useState)(""),H=(0,r.A)(z,2),Q=H[0],W=H[1],q=(0,o.useState)(),K=(0,r.A)(q,2),X=K[0],Y=K[1],$=(0,o.useState)(),ee=(0,r.A)($,2),te=ee[0],ne=ee[1],ce=(0,D.B)().t,ue=function(){var e=(0,a.A)(u().mark((function e(n){var a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(k.length==t.length){e.next=3;break}return i.A.show("请输入正确的值"),e.abrupt("return",!1);case 3:if(!(0,L.isEmpty)(B)){e.next=6;break}return i.A.show("请选择需要升级的合约"),e.abrupt("return",!1);case 6:a="",(a="upgradeTo"===n?(0,_.rc)(B.abiJson,n,[k[0]]):(0,_.rc)("ParaProxy",n,[k[0]]))&&(console.log(a,n),g[0]=B.address,g[3]=a,N((0,s.A)(g)));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),oe=function(){var e=(0,a.A)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(k.length==m.length){e.next=3;break}return i.A.show("请输入正确的值"),e.abrupt("return",!1);case 3:if(!(0,L.isEmpty)(B)){e.next=6;break}return i.A.show("请选择需要升级的合约"),e.abrupt("return",!1);case 6:(n=(0,_.rc)(B.abiJson,t,[B.address]))&&(g[0]=k[0],g[3]=n,console.log(n,t),N((0,s.A)(g)));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),le=function(){var e=(0,a.A)(u().mark((function e(){var t,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d){e.next=3;break}return i.A.show("您不是该多签的议员，无法创建提案"),e.abrupt("return",!1);case 3:return e.next=5,(0,_.pT)("TimeLock","queueTransaction",["address","uint256","string","bytes","uint256"].map((function(e,t){return g[t]||(1==t?"0":"")})));case 5:return t=e.sent,n=[Q||F.A.TimeLock,0,t],e.next=9,(0,_.PR)(A,n,X);case 9:e.sent&&i.A.show("提交成功");case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),se=function(){var e=(0,a.A)(u().mark((function e(t){var n,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("executeTransaction"!=t){e.next=7;break}return e.next=3,(0,_.lj)(["address","uint256","string","bytes","uint256"].map((function(e,t){return g[t]||(1==t?"0":"")})),Q);case 3:e.sent&&i.A.show("执行成功"),e.next=18;break;case 7:if(d){e.next=10;break}return i.A.show("您不是该多签的议员，无法创建提案"),e.abrupt("return",!1);case 10:return e.next=12,(0,_.pT)("TimeLock","cancelTransaction",["address","uint256","string","bytes","uint256"].map((function(e,t){return g[t]||(1==t?"0":"")})));case 12:return n=e.sent,a=[Q||F.A.TimeLock,0,n],e.next=16,(0,_.PR)(A,a,te);case 16:e.sent&&i.A.show("提交成功");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ie=function(){var e=(0,a.A)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!B.lockAddress){e.next=4;break}W(B.lockAddress),e.next=8;break;case 4:return e.next=6,(0,_.i)(B.abiJson,B.address,B.searchLockFun);case 6:t=e.sent,W(t);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,o.useEffect)((function(){return function(){w([]),N([]),O({})}}),[v]),(0,o.useEffect)((function(){I(0)}),[n]),(0,o.useEffect)((function(){B.abi&&ie()}),[B.abi]),o.createElement("div",{ref:h},o.createElement(P.A,null,o.createElement("div",{onClick:function(){J(!M)}},(0,L.isEmpty)(B)?"选择要升级的合约名称":"升级合约：".concat(B.abi))),o.createElement(P.A,null,o.createElement(l.A,{defaultIndex:R,onChange:function(e){I(e),w([]),N([]),Y(""),ne("")},tabs:[{title:"执行方法一",node:o.createElement(o.Fragment,null,t.map((function(e,t){return o.createElement("div",{className:"contentInputView mt-10",key:t},o.createElement(re,{data:e,inputValue:k[t],changeInput:function(e){k[t]=e,w((0,s.A)(k))}}))})),o.createElement("div",{className:"contentButton",onClick:function(){ue(n)}},"生成执行方法一时间锁Data"))},c?{title:"执行方法二",node:o.createElement(o.Fragment,null,m.map((function(e,t){return o.createElement("div",{className:"contentInputView  mt-10",key:t},o.createElement(re,{data:e,inputValue:k[t],changeInput:function(e){k[t]=e,w((0,s.A)(k))}}))})),o.createElement("div",{className:"contentButton",onClick:function(){oe(c)}},"生成执行方法二时间锁Data"))}:null].filter((function(e){return e}))})),o.createElement(P.A,null,[{type:"address",textShow:"执行地址"},{type:"uint256",textShow:"发送BNB数量"},{type:"string",textShow:"描述"},{type:"bytes",textShow:"生成的Data"},{type:"uint256",textShow:"排队结束时间戳"}].map((function(e,t){return o.createElement("div",{className:"contentInputView",key:t},o.createElement(re,{data:e.textShow,inputValue:g[t],changeInput:function(e){g[t]=e,N((0,s.A)(g))}}))}))),o.createElement(P.A,null,o.createElement("div",{className:"contentInputView"},o.createElement(re,{data:"发布时间锁提案描述",inputValue:X,changeInput:function(e){Y(e||"")}})),o.createElement("div",{className:"contentButton",onClick:le},"发布时间锁提案，发起升级提案")),o.createElement(P.A,null,o.createElement("div",{className:"contentButton mb-10",onClick:function(){se("executeTransaction")}},"执行时间锁，执行升级")),o.createElement(P.A,null,o.createElement("div",{className:"contentInputView"},o.createElement(re,{data:"取消时间锁提案描述",inputValue:te,changeInput:function(e){ne(e||"")}})),o.createElement("div",{className:"contentButton",onClick:function(){se("cancelTransaction")}},"取消时间锁，发起取消升级提案")),o.createElement(T.A,{title:"选择合约",visible:M,width:"80%",mountContainer:function(){return h.current},footer:o.createElement(o.Fragment,null,o.createElement("div",{className:"contentButton closeButton",onClick:function(){J(!1)}},ce("common.cancel")))},p.map((function(e,t){return o.createElement("div",{key:t,className:"flex-row fl-jc-between mb-10",onClick:function(){O(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(n),!0).forEach((function(t){(0,f.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e)),J(!1)}},o.createElement("div",null,e.abi),o.createElement("div",null,e.abi==B.abi?"已选择":"未选择"))}))))}function ue(e){e.userinfo,e.mulitName;var t=e.hasRoule,n=(0,D.B)().t;return(0,o.useEffect)((function(){return function(){}}),[]),o.createElement("div",{className:"BuyBackMulit"},o.createElement(l.A,{tabs:[{title:n("SousChef类合约"),node:o.createElement(ce,{viewHasRoule:t,updateType:"firstType",addChefInputList:["address:升级地址"],getDataFunNameAdd:"upgradeTo",abiList:H.A.updateAddressOneFunList})},{title:n("MasterChef类合约"),node:o.createElement(ce,{viewHasRoule:t,updateType:"secondType",abiList:H.A.updateAddressTwoFunList,addChefInputList:["address:升级地址"],getDataFunNameAdd:"_setPendingImplementation",editChefInputList:["address:升级地址"],getDataFunNameUpdate:"_become"})}]}))}function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(n),!0).forEach((function(t){(0,f.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function se(e){var t=e.data,n=e.inputValue,a=e.changeInput,r=(0,D.B)().t;return o.createElement(o.Fragment,null,o.createElement("input",{placeholder:r("请输入".concat(t)),value:n||"",onChange:function(e){a(e.target.value)},className:"contentInput"}),n?o.createElement("div",{style:{color:"#ccc"},onClick:function(){a("")}},"清除"):null)}function ie(e){var t=e.hasRoule,n=e.lockFunList,c=(0,o.useRef)(),l=(0,Z.g)().mulitname,m=(0,o.useState)([]),f=(0,r.A)(m,2),d=f[0],p=f[1],v=(0,o.useState)([]),h=(0,r.A)(v,2),A=h[0],b=h[1],E=(0,o.useState)(""),k=(0,r.A)(E,2),w=k[0],y=k[1],x=(0,o.useState)(""),g=(0,r.A)(x,2),N=g[0],C=g[1],S=(0,o.useState)(!1),B=(0,r.A)(S,2),O=B[0],j=B[1],V=(0,o.useState)(""),R=(0,r.A)(V,2),I=R[0],U=R[1],G=(0,o.useState)(),M=(0,r.A)(G,2),J=M[0],z=M[1],H=(0,o.useState)(),Q=(0,r.A)(H,2),W=Q[0],q=Q[1],K=(0,D.B)().t,X=function(){var e=(0,a.A)(u().mark((function e(t){var n,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d.length==N.paramType.length){e.next=3;break}return i.A.show("请输入正确的值"),e.abrupt("return",!1);case 3:n=d.map((function(e,t){return N.paramType[t].type.indexOf("[]")>-1?(e||"").split("-"):e||""})),(a=(0,_.rc)(N.abiJson,N.functionKey,n))&&(A[0]=N.address,A[3]=a,b((0,s.A)(A)));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=(0,a.A)(u().mark((function e(){var n,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return i.A.show("您不是该多签的议员，无法创建提案"),e.abrupt("return",!1);case 3:return e.next=5,(0,_.pT)("TimeLock","queueTransaction",["address","uint256","string","bytes","uint256"].map((function(e,t){return A[t]||(1==t?"0":"")})));case 5:return n=e.sent,a=[I||F.A.TimeLock,0,n],e.next=9,(0,_.PR)(l,a,J);case 9:e.sent&&i.A.show("提交成功");case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$=function(){var e=(0,a.A)(u().mark((function e(n){var a,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("executeTransaction"!=n){e.next=7;break}return e.next=3,(0,_.lj)(["address","uint256","string","bytes","uint256"].map((function(e,t){return A[t]||(1==t?"0":"")})),I);case 3:e.sent&&i.A.show("执行成功"),e.next=18;break;case 7:if(t){e.next=10;break}return i.A.show("您不是该多签的议员，无法创建提案"),e.abrupt("return",!1);case 10:return e.next=12,(0,_.pT)("TimeLock","cancelTransaction",["address","uint256","string","bytes","uint256"].map((function(e,t){return A[t]||(1==t?"0":"")})));case 12:return a=e.sent,r=[I||F.A.TimeLock,0,a],e.next=16,(0,_.PR)(l,r,W);case 16:e.sent&&i.A.show("提交成功");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=function(){var e=(0,a.A)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!w.lockAddress){e.next=4;break}U(w.lockAddress),e.next=8;break;case 4:return e.next=6,(0,_.i)(w.abiJson,w.address,w.searchLockFun);case 6:t=e.sent,U(t);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,o.useEffect)((function(){w.abi&&ee()}),[w.abi]),(0,o.useEffect)((function(){return function(){}}),[]),o.createElement("div",{className:"BuyBackMulit"},o.createElement("div",{ref:c},o.createElement(P.A,null,o.createElement("div",{onClick:function(){j(!O)}},(0,L.isEmpty)(w)?"选择要执行时间锁的合约及方法":"时间锁执行".concat(w.abi,"-").concat(N.label))),(0,L.isEmpty)(N.paramType)?null:o.createElement(P.A,null,N.paramType.map((function(e,t){return o.createElement("div",{className:"contentInputView",key:t},o.createElement(se,{data:e.textShow,inputValue:d[t],changeInput:function(e){d[t]=e,p((0,s.A)(d))}}))})),o.createElement("div",{className:"contentButton",onClick:function(){X()}},"生成执行方法一时间锁Data")),o.createElement(P.A,null,[{type:"address",textShow:"执行地址"},{type:"uint256",textShow:"发送BNB数量"},{type:"string",textShow:"描述"},{type:"bytes",textShow:"生成的Data"},{type:"uint256",textShow:"排队结束时间戳"}].map((function(e,t){return o.createElement("div",{className:"contentInputView",key:t},o.createElement(se,{data:e.textShow,inputValue:A[t],changeInput:function(e){A[t]=e,b((0,s.A)(A))}}))}))),o.createElement(P.A,null,o.createElement("div",{className:"contentInputView"},o.createElement(se,{data:"发布时间锁提案描述",inputValue:J,changeInput:function(e){z(e||"")}})),o.createElement("div",{className:"contentButton",onClick:Y},"发布时间锁提案，发起升级提案")),o.createElement(P.A,null,o.createElement("div",{className:"contentButton mb-10",onClick:function(){$("executeTransaction")}},"执行时间锁，执行升级")),o.createElement(P.A,null,o.createElement("div",{className:"contentInputView"},o.createElement(se,{data:"取消时间锁提案描述",inputValue:W,changeInput:function(e){q(e||"")}})),o.createElement("div",{className:"contentButton",onClick:function(){$("cancelTransaction")}},"取消时间锁，发起取消升级提案")),o.createElement(T.A,{title:"选择要执行的方法",visible:O,width:"80%",mountContainer:function(){return c.current},footer:o.createElement(o.Fragment,null,o.createElement("div",{className:"contentButton closeButton",onClick:function(){j(!1)}},K("common.cancel")))},o.createElement("div",{className:"mb-10"},"选择要执行的合约"),n.map((function(e,t){return o.createElement("div",{key:t,className:"flex-row fl-jc-between mb-10",onClick:function(){y(le({},e)),C({})}},o.createElement("div",null,e.abi),o.createElement("div",null,e.abi==w.abi?"已选择":"未选择"))})),o.createElement("div",{className:"mb-10"}),(0,L.isEmpty)(w.secondLsit)?null:o.createElement("div",{className:"mb-10"},"选择要执行的方法"),(0,L.isEmpty)(w.secondLsit)?null:w.secondLsit.map((function(e,t){return o.createElement("div",{key:t,className:"flex-row fl-jc-between mb-10",onClick:function(){C(le({},e)),j(!1)}},o.createElement("div",null,e.label),o.createElement("div",null,e.label==N.label?"已选择":"未选择"))})))))}function me(){var e=(0,$.A)(),t=e.setAddress,n=e.user,c=(0,o.useState)([]),s=(0,r.A)(c,2),i=s[0],m=s[1],f=(0,o.useState)("NO Content"),d=(0,r.A)(f,2),p=d[0],v=(d[1],(0,o.useState)(!1)),h=(0,r.A)(v,2),A=h[0],b=h[1],E=(0,Z.g)().mulitname,k=(0,D.B)().t,w=function(){var e=(0,a.A)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_.wC)(F.A[E],n.address);case 2:t=e.sent,b(t||!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,o.useEffect)((function(){var e=[];H.A.isBuyBackList.indexOf(E)>-1&&e.push({title:k("回购多签"),node:o.createElement(Y,{userinfo:n,mulitName:E,hasRoule:A})}),H.A.LockTimeFun[E]&&H.A.LockTimeFun[E].length&&e.push({title:k("时间锁"),node:o.createElement(ie,{userinfo:n,mulitName:E,hasRoule:A,lockFunList:H.A.LockTimeFun[E]})}),H.A.isUpdateAddresslist.indexOf(E)>-1&&e.push({title:k("升级合约"),node:o.createElement(ue,{userinfo:n,mulitName:E,hasRoule:A})}),H.A.isChangePoolList.indexOf(E)>-1&&e.push({title:k("增改池子"),node:o.createElement(ne,{userinfo:n,mulitName:E,hasRoule:A})}),e.push({title:k("多签管理"),node:o.createElement(Q,{userinfo:n,mulitName:E,hasRoule:A})}),m([].concat(e))}),[A,n.address]),(0,o.useEffect)((function(){n.address||t(),n.address&&w(),document.title="V42-Admin"}),[n.address]),o.createElement("div",{className:"DHCProjectAdmin"},i.length?o.createElement(l.A,{tabs:i}):o.createElement("div",{className:"tipstext"},p))}}}]);