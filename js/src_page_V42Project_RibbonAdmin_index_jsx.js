"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["src_page_V42Project_RibbonAdmin_index_jsx"],{53547:(e,t,n)=>{n.r(t),n.d(t,{default:()=>k});var a=n(10467),r=n(80296),s=n(54756),c=n.n(s),i=n(96540),u=n(26877),o=n(13907),d=n(56347),l=n(41679),h=n(78015),f=n(61801),b=n(84973),m=n(88878),p=n(80060),v=n(6572);function A(e){var t=e.userinfo,n=e.roleHash,s=void 0===n?"":n,u=e.searchRole,o=void 0===u?[]:u,d=e.keytext,f=void 0===d?"":d,b=(0,i.useState)(0),m=(0,r.A)(b,2),p=m[0],v=m[1],A=function(){var e=(0,a.A)(c().mark((function e(){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.eg)({abi:"ParaRibbon",address:h.A.ParaRibbon,params:[s,null==t?void 0:t.address]});case 2:n=e.sent,v(n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,i.useEffect)((function(){t.address&&A()}),[t.address,f]),i.createElement("div",{className:"UserLsitChange"},o.map((function(e,t){return i.createElement("div",{key:t},i.createElement(w,{viewtitle:e.title,searchHash:e.hash,canChange:p,switchFunStatus:e.switchFun,changeSwitchFunStatus:e.changeSwitchFun}))})))}function w(e){var t=e.viewtitle,n=void 0===t?"":t,s=e.canChange,u=void 0!==s&&s,d=e.searchHash,f=void 0===d?"":d,b=(e.switchFunStatus,e.changeSwitchFunStatus,(0,o.B)().t),A=(0,i.useState)(""),w=(0,r.A)(A,2),k=w[0],R=w[1],x=(0,i.useState)(!1),E=(0,r.A)(x,2),g=E[0],S=E[1],C=(0,i.useState)(!1),N=(0,r.A)(C,2),P=N[0],y=N[1],F=function(){var e=(0,a.A)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u){e.next=3;break}return m.A.show(b("无权限操作")),e.abrupt("return",!1);case 3:return e.next=5,(0,v.A)({abi:"ParaRibbon",address:h.A.ParaRibbon,params:[k,!0],method:"setWhiteRole",type:"send"});case 5:e.sent&&(m.A.show(b("操作成功")),y(!1),S(!1));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=(0,a.A)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u){e.next=3;break}return m.A.show(b("无权限操作")),e.abrupt("return",!1);case 3:return e.next=5,(0,v.A)({abi:"ParaRibbon",address:h.A.ParaRibbon,params:[k,!1],method:"setWhiteRole",type:"send"});case 5:e.sent&&(m.A.show(b("操作成功")),y(!1),S(!1));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=(0,a.A)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(k){e.next=4;break}return m.A.show(b("请输入正确的地址")),S(!1),e.abrupt("return",!1);case 4:return e.next=6,(0,l.eg)({abi:"ParaRibbon",address:h.A.ParaRibbon,params:[f,k]});case 6:t=e.sent,S(!0),y(t);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return i.createElement("div",{className:"UserLsitChange"},i.createElement(p.A,{blockClass:"structuredFundCFAdminItem"},i.createElement("div",{className:"contents mb-10"},n),i.createElement("div",{className:"contentInputView"},i.createElement("input",{placeholder:b("请输入地址"),value:k,onChange:function(e){return R(e.target.value)},className:"contentInput"})),i.createElement("div",{className:"contentButton mb-10",onClick:function(){B()}},n),g?P?i.createElement("div",{className:"contentButton",onClick:function(){H(k)}},b("从名单中删除")):i.createElement("div",{className:"contentButton",onClick:function(){F(k)}},b("从名单中添加")):null))}function k(){var e=(0,b.A)(),t=e.setAddress,n=e.user,s=(0,i.useState)([]),m=(0,r.A)(s,2),p=m[0],v=m[1],w=(0,i.useState)("NO Content"),k=(0,r.A)(w,2),R=k[0],x=(k[1],(0,i.useState)(!1)),E=(0,r.A)(x,2),g=E[0],S=E[1],C=((0,d.g)().mulitname,(0,o.B)().t),N=function(){var e=(0,a.A)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.eg)({abi:"ParaRibbon",address:h.A.ParaRibbon,params:[f.A.RibbonHash,null==n?void 0:n.address]});case 2:t=e.sent,S(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,i.useEffect)((function(){var e=[];e.push({title:C("白名单管理"),node:i.createElement(A,{role:g,userinfo:n,keytext:"ribbon",roleHash:f.A.RibbonHash,searchRole:[{title:"白名单查询",hash:f.A.RibbonIsWhiteHash}]})}),v([].concat(e))}),[g,n.address]),(0,i.useEffect)((function(){n.address||t(),n.address&&N(),document.title="V42-Admin"}),[n.address]),i.createElement("div",{className:"RibbonAdmin"},p.length?i.createElement(u.A,{tabs:p}):i.createElement("div",{className:"tipstext"},R))}}}]);