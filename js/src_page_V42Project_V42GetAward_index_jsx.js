"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["src_page_V42Project_V42GetAward_index_jsx"],{91462:(e,t,n)=>{n.r(t),n.d(t,{default:()=>k});var r=n(64467),a=n(10467),c=n(80296),s=n(54756),u=n.n(s),i=n(96540),o=n(88878),l=n(13907),p=n(39333),f=n(44040),m=n(80060),d=n(34285),b=n(84973);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(){var e=(0,b.A)(),t=e.setAddress,n=e.user,r=(0,l.B)().t,s=(0,d.A)().tokenList,v=(0,i.useState)(!1),k=(0,c.A)(v,2),h=k[0],w=k[1],g=(0,i.useState)([]),A=(0,c.A)(g,2),O=A[0],x=A[1],_=(0,i.useState)(!0),j=(0,c.A)(_,2),E=j[0],P=j[1],N=function(){var e=(0,a.A)(u().mark((function e(t){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,p.Er)(t,null==n?void 0:n.address);case 2:return r=e.sent,e.abrupt("return",r.map((function(e,n){return y(y({},t[n]),{},{stayPriceNum:(0,f.fm)(e,t[n].symbol).toFixed(0)||0,stayPrice:(0,f.ai)((0,f.fm)(e,t[n].symbol).toNumber()||0)})})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=(0,a.A)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N(s);case 2:t=e.sent,x(t),P(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=(0,a.A)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!O.some((function(e){return e.stayPriceNum>0}))){e.next=9;break}return e.next=5,(0,p.gt)();case 5:e.sent&&(S(),o.A.show(r("page.Mine.mine_get_success"))),e.next=10;break;case 9:o.A.show(r("没有可领取的奖励"));case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),o.A.show(r("page.Mine.mine_get_fail"));case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=(0,a.A)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.address){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,(0,p.d0)(null==n?void 0:n.address);case 4:t=e.sent,w(t),t&&S();case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,i.useEffect)((function(){null!=n&&n.address&&s.length?D():t()}),[null==n?void 0:n.address,s]),i.createElement("div",{className:"V42GetAward"},h&&!E?i.createElement(m.A,null,i.createElement("div",null,i.createElement("div",{className:"back-btn",onClick:C},r("page.Mine.mine_one_click_get")),null!=O&&O.length?O.map((function(e,t){return i.createElement("div",{className:"back-item",key:t},i.createElement("div",{className:"back-item-label"},e.symbol),i.createElement("div",{className:"back-item-value"},e.stayPrice))})):i.createElement("div",{className:"back-none"},r("page.Mine.mine_no_bonus")))):i.createElement("div",{className:"nocontenttext"},"No Content"))}}}]);