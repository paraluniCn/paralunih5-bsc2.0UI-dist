"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["src_page_StructuredFund_StructuredFundBuy_index_jsx"],{3696:(e,t,r)=>{r.r(t),r.d(t,{default:()=>_});var n=r(10467),a=r(80296),c=r(54756),s=r.n(c),o=r(96540),u=r(84973),i=r(80060),f=r(16506),l=r(92081),d=r(88878),m=r(48047),p=r(44040),v=r(70750),w=r(2889),h=r(29772),b=(r(99369),r(64467)),g=r(13907);function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function A(e){var t=e.show,r=void 0!==t&&t,n=e.onSuccess,c=void 0===n?function(){}:n,s=e.onClose,u=void 0===s?function(){}:s,i=(0,g.B)().t,f=(0,o.useState)({rate:2}),l=(0,a.A)(f,2),p=l[0],v=l[1],w=function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(Object(r),!0).forEach((function(t){(0,b.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},p);t.rate=e&&Number(e),console.log(t),v(t)};return o.createElement(m.A,{visible:r,direction:"bottom",mountContainer:function(){return document.body}},o.createElement("div",{className:"set-body"},o.createElement("div",{className:"title"},i("common.setting")),o.createElement("div",{className:"set-title"},i("page.StructuredFund.toleranceName")),o.createElement("div",{className:"set-content"},[2,1,3].map((function(e){return o.createElement("div",{className:"f1",key:e},o.createElement("div",{className:(null==p?void 0:p.rate)===e?"able":"def",onClick:function(){w(e)}},e,"%"))})),o.createElement("div",{className:"line-rate"},o.createElement("input",{type:"number",className:"rate",value:null==p?void 0:p.rate,onChange:function(e){return w(e.target.value)}}),"%")),null!=p&&p.rate&&(null==p?void 0:p.rate)<.5?o.createElement("div",{className:"error-text"},i("page.StructuredFund.toleranceFail")):null,(null==p?void 0:p.rate)>5&&p.rate<50?o.createElement("div",{className:"error-text"},i("page.StructuredFund.toleranceAdvance")):null,(null==p?void 0:p.rate)>50||null==p||!p.rate?o.createElement("div",{className:"error-text"},i("page.StructuredFund.toleranceNoUse")):null,o.createElement("div",{className:"btn-group"},o.createElement("div",{className:"ok",onClick:function(){return!p.rate||p.rate<=0?d.A.show(i("page.StructuredFund.toleranceMust")):(null==p?void 0:p.rate)>50?d.A.show(i("page.StructuredFund.toleranceOut")):(d.A.show(i("page.StructuredFund.toleranceSuccess")),void c(p.rate))}},i("common.submit")),o.createElement("div",{className:"cancel",onClick:u},i("common.cancel")))))}var N=r(6572),S=r(78015);function x(e){var t=e.visible,r=e.onClose,c=e.detail,i=e.priceCoin,f=e.priceUsdt,l=e.onSuccess,b=(0,g.B)().t,E=(0,u.A)().user,x=(0,o.useState)(),F=(0,a.A)(x,2),y=F[0],k=F[1],C=(0,o.useState)(0),z=(0,a.A)(C,2),j=z[0],P=z[1],T=(0,p.pZ)((0,p.fm)(c.amount))/10,B=(0,o.useState)(!1),U=(0,a.A)(B,2),D=U[0],_=U[1],O=(0,o.useState)(2),I=(0,a.A)(O,2),V=I[0],L=I[1],R=(0,o.useState)(!1),Z=(0,a.A)(R,2),G=Z[0],H=Z[1],M=function(){var e=(0,n.A)(s().mark((function e(){var t,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,v.QJ)(w.A.token,E.address);case 2:t=e.sent,k(t),r=T*w.A.portionCost*f,P(r/i);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=(0,n.A)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(j){e.next=2;break}return e.abrupt("return");case 2:return t=j+j*(V/100),e.next=6,(0,N.A)({abi:"StructureFund",address:S.A.StructureFund,params:[c.planId,(0,p.Gh)(t).toFixed()],method:"deposit",type:"send"});case 6:e.sent?(d.A.show(b("page.StructuredFund.subscriptionSuccess")),l()):d.A.show(b("page.StructuredFund.subscriptionFail"));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=(0,n.A)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,v.N6)(w.A.token,E.address,S.A.StructureFund);case 2:t=e.sent,H("0"!==t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=(0,n.A)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,N.A)({abi:"erc20",address:w.A.token,method:"approve",params:[S.A.StructureFund,"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"],type:"send",error:function(){d.A.show(b("common.active_fail"))}});case 2:e.sent&&(H(!0),d.A.show(b("common.active_success")));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,o.useEffect)((function(){return M()}),[c]),(0,o.useEffect)((function(){return J()}),[E.address]),o.createElement(m.A,{direction:"bottom",visible:t},o.createElement("div",{className:"buy-popup"},o.createElement("div",{className:"flex-row fl-jc-between fl-ai-center"},o.createElement("div",{className:"font-size-16 font-weight-500 font-color-white"},b("page.StructuredFund.subscriptionRule")),o.createElement("div",{className:"font-weight-400 buy-popup-close fl-ai-center font-size-12",onClick:r},b("common.close"))),o.createElement("div",{className:"divide-line mt-5"}),o.createElement("div",{className:"flex-row fl-jc-between mt-20 mb-20"},o.createElement("div",{className:"font-size-14 font-weight-600 font-color-white"},b("page.StructuredFund.subscription")),o.createElement("div",{className:"font-size-14 font-weight-600 font-color-white"},T," ",b("page.StructuredFund.shareNum"))),o.createElement("div",{className:"flex-row fl-jc-between"},o.createElement("div",{className:"font-size-12 font-weight-400 font-color-describe"},b("page.StructuredFund.subscriptionNeed")),o.createElement("div",{className:"font-size-12 font-weight-bold font-color-white"},(0,p.pZ)(j+j*(V/100))," ",w.A.symbol)),o.createElement("div",{className:"flex-row fl-jc-between mt-10"},o.createElement("div",{className:"font-size-12 font-weight-400 font-color-describe"},b("common.available")),o.createElement("div",{className:"font-size-12 font-weight-bold font-color-white"},y," ",w.A.symbol)),parseFloat(j)>parseFloat(y)&&o.createElement("div",{className:"buy-popup-tip mt-10 flex-center"},b("page.StructuredFund.hasNoTips")),o.createElement("div",{className:"flex-row fl-jc-between mt-10"},o.createElement("div",{className:"font-size-12 font-weight-400 font-color-describe"},b("page.StructuredFund.subscriptionFuel")),o.createElement("div",{className:"font-size-12 font-weight-bold font-color-white"},(0,p.pZ)(.5*f/i)*T," ",w.A.symbol)),o.createElement("div",{className:"flex-row fl-jc-between mt-10"},o.createElement("div",{className:"font-size-12 font-weight-400 font-color-describe"},b("page.StructuredFund.tolerance")),o.createElement("div",{className:"flex-row fl-ai-center",onClick:function(){return _(!0)}},o.createElement("div",{className:"font-size-12 font-weight-bold font-color-white"},V,"%"),o.createElement("img",{src:h.A,width:15,height:15,className:"ml-10"}))),o.createElement("div",{className:"flex-row fl-jc-between mt-10"},o.createElement("div",{className:"font-size-12 font-weight-400 font-color-describe"},b("page.StructuredFund.subscriptionDate")),o.createElement("div",{className:"font-size-12 font-weight-bold font-color-white"},w.A.cycle)),o.createElement("div",{className:"buy-popup-submit flex-center",onClick:G?W:Q},G?b("page.StructuredFund.subscriptionComfirm"):b("common.active_transaction",{name:w.A.symbol})),o.createElement(A,{show:D,onSuccess:function(e){L(e),_(!1)},onClose:function(){return _(!1)}})))}var F=r(56347),y=r(32593);function k(e){var t=e.visible,r=e.onClose,c=e.detail,i=e.priceUsdt,f=e.onSuccess,l=(0,g.B)().t,w=(0,o.useState)(!1),b=(0,a.A)(w,2),E=b[0],x=b[1],F=(0,o.useState)(2),y=(0,a.A)(F,2),k=y[0],C=y[1],z=(0,o.useState)(""),j=(0,a.A)(z,2),P=j[0],T=j[1],B=(0,o.useState)(0),U=(0,a.A)(B,2),D=U[0],_=U[1],O=(0,o.useState)(!1),I=(0,a.A)(O,2),V=I[0],L=I[1],R=(0,u.A)().user,Z=(0,p.pZ)((0,p.fm)(c.amount))/10,G=function(){var e=(0,n.A)(s().mark((function e(){var t,r,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,v.QJ)(S.A.V42NEW,R.address);case 2:return t=e.sent,T(t),e.next=6,(0,N.A)({abi:"ParaPeriphery",address:S.A.ParaPeriphery,params:[S.A.V42NEW,S.A.USDT,S.A.ParaRouter],method:"getPrice",type:"call"});case 6:r=e.sent,n=3*Z*i/(0,p.fm)(r),_(n);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=(0,n.A)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(D){e.next=2;break}return e.abrupt("return");case 2:return t=D+D*(k/100),e.next=6,(0,N.A)({abi:"StructureFund",address:S.A.StructureFund,params:[c.planId,(0,p.Gh)(t).toFixed()],method:"planCancel",type:"send"});case 6:e.sent?(d.A.show(l("page.StructuredFund.rearrangeSuccess")),f()):d.A.show(l("page.StructuredFund.rearrangeFail"));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=(0,n.A)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,v.N6)(S.A.V42NEW,R.address,S.A.StructureFund);case 2:t=e.sent,L("0"!==t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=(0,n.A)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,N.A)({abi:"erc20",address:S.A.V42NEW,method:"approve",params:[S.A.StructureFund,"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"],type:"send",error:function(){d.A.show(l("common.active_fail"))}});case 2:e.sent&&(L(!0),d.A.show(l("common.active_success")));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,o.useEffect)((function(){return G()}),[]),(0,o.useEffect)((function(){return M()}),[R.address]),o.createElement(m.A,{direction:"bottom",visible:t},o.createElement("div",{className:"buy-popup"},o.createElement("div",{className:"flex-row fl-jc-between fl-ai-center"},o.createElement("div",{className:"font-size-16 font-weight-500 font-color-white"},l("page.StructuredFund.rearrangeRule")),o.createElement("div",{className:"font-weight-400 buy-popup-close fl-ai-center font-size-12",onClick:r},l("common.close"))),o.createElement("div",{className:"divide-line mt-5"}),o.createElement("div",{className:"flex-row fl-jc-between mt-20 mb-20"},o.createElement("div",{className:"font-size-14 font-weight-600 font-color-white"},l("page.StructuredFund.subscription")),o.createElement("div",{className:"font-size-14 font-weight-600 font-color-white"},Z," ",l("page.StructuredFund.shareNum"))),o.createElement("div",{className:"buy-popup-tip mt-10 flex-center "},l("page.StructuredFund.rearrangeTips")),o.createElement("div",{className:"flex-row fl-jc-between mt-10"},o.createElement("div",{className:"font-size-12 font-weight-400 font-color-describe "},l("page.StructuredFund.rearrangeNeed")),o.createElement("div",{className:"font-size-12 font-weight-bold font-color-white"},(0,p.pZ)(D+D*(k/100))," V42")),o.createElement("div",{className:"flex-row fl-jc-between mt-10"},o.createElement("div",{className:"font-size-12 font-weight-400 font-color-describe"},l("common.available")),o.createElement("div",{className:"font-size-12 font-weight-bold font-color-white"},P," V42")),o.createElement("div",{className:"flex-row fl-jc-between mt-10"},o.createElement("div",{className:"font-size-12 font-weight-400 font-color-describe"},l("page.StructuredFund.tolerance")),o.createElement("div",{className:"flex-row fl-ai-center",onClick:function(){return x(!0)}},o.createElement("div",{className:"font-size-12 font-weight-bold font-color-white"},k,"%"),o.createElement("img",{src:h.A,width:15,height:15,className:"ml-10"}))),parseFloat(D)>parseFloat(P)&&o.createElement("div",{className:"buy-popup-tip mt-10 flex-center"},l("page.StructuredFund.hasNoTipsV42")),o.createElement("div",{className:"buy-popup-submit flex-center",onClick:V?H:W},V?l("page.StructuredFund.rearrangeComfirm"):l("common.active_transaction",{name:"V42"})),o.createElement(A,{show:E,onSuccess:function(e){C(e),x(!1)},onClose:function(){return x(!1)}})))}var C=r(5611),z=r(95093),j=r.n(z),P=r(16889);function T(e){var t=e.userInfo,r=(0,g.B)().t,c=(0,o.useState)(""),u=(0,a.A)(c,2),m=u[0],h=u[1],b=(0,o.useState)(!1),E=(0,a.A)(b,2),A=E[0],x=E[1],k=(0,o.useState)("0"),z=(0,a.A)(k,2),j=z[0],T=z[1],U=(0,o.useState)("0"),D=(0,a.A)(U,2),_=D[0],O=D[1],I=(0,o.useState)("0"),V=(0,a.A)(I,2),L=V[0],R=V[1],Z=(0,o.useState)("0"),G=(0,a.A)(Z,2),H=G[0],M=G[1],W=(0,o.useState)(0),J=(0,a.A)(W,2),Q=J[0],$=J[1],K=(0,o.useState)(0),q=(0,a.A)(K,2),X=q[0],Y=q[1],ee=(0,o.useState)([]),te=(0,a.A)(ee,2),re=te[0],ne=te[1],ae=(0,o.useState)(null),ce=(0,a.A)(ae,2),se=ce[0],oe=ce[1],ue=(0,o.useState)(1),ie=(0,a.A)(ue,2),fe=ie[0],le=ie[1],de=(0,o.useState)(0),me=(0,a.A)(de,2),pe=me[0],ve=me[1],we=(0,o.useState)([]),he=(0,a.A)(we,2),be=he[0],ge=he[1],Ee=(0,F.W6)(),Ae=(0,F.g)().pid,Ne=(0,y.A)(),Se=Ne.getPriceByToken,xe=Ne.getCFPrice,Fe=function(){var e=(0,n.A)(s().mark((function e(){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,v.N6)(S.A.USDT,t.address,S.A.StructureFund);case 2:r=e.sent,x("0"!==r);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ye=function(){var e=(0,n.A)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.address){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,(0,N.A)({abi:"erc20",address:S.A.USDT,method:"approve",params:[S.A.StructureFund,"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"],type:"send",error:function(){d.A.show(r("common.active_fail"))}});case 4:e.sent&&(x(!0),d.A.show(r("common.active_success")));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ke=function(e){h(e?Math.floor(e):e),Pe(parseInt(e))},Ce=function(){var e=(0,n.A)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe(w.A.token,S.A.USDT,S.A.PancakeRouter);case 2:t=e.sent,R(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ze=function(){var e=(0,n.A)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Se(S.A.USDT,S.A.USDT);case 2:t=e.sent,O(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),je=function(){var e=(0,n.A)(s().mark((function e(){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,v.QJ)(S.A.USDT,t.address);case 2:r=e.sent,T(r);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Pe=function(){var e=(0,n.A)(s().mark((function e(t){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!isNaN(t)){e.next=5;break}return $(0),Y(0),M("0"),e.abrupt("return");case 5:$(10*t),Y(.5*t),r=100*t*_,M((0,p.pZ)(r/L,6));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Te=function(){var e=(0,n.A)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!m||m>10||m<1)){e.next=3;break}return d.A.show(r("page.StructuredFund.inputinteger")),e.abrupt("return");case 3:return e.next=5,(0,N.A)({abi:"StructureFund",address:S.A.StructureFund,params:[m],method:"plan",type:"send"});case 5:e.sent?(d.A.show(r("page.StructuredFund.buySuccess")),Ue(),h(""),Be(),je()):d.A.show(r("page.StructuredFund.buyFail"));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Be=function(){var e=(0,n.A)(s().mark((function e(){var r,n,a,c,o,u,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(se&&be.length){e.next=2;break}return e.abrupt("return");case 2:return r=10*(fe-1),e.next=5,(0,N.A)({abi:"StructureFundView",address:S.A.StructureFundView,params:[t.address,r,10],method:"getPlanList",type:"call"});case 5:n=e.sent,ve(n.count),a=n.amounts,c=n.isForfeiteds,o=n.isRedeems,u=n.planIds,i=[],a.map((function(e,t){var r={},n=u[t];if(r.isForfeited=c[t],r.planId=n,r.amount=e,o[t])return r.status=6,void i.push(r);if(c[t])return r.status=4,void i.push(r);if(n<se.endPlan&&n>=se.startPlan){var a=De(!0);!0===a?r.status=1:(r.status=3,r.time=a)}else n<se.startPlan&&(r.status=5),n>=se.endPlan&&(r.status=2);if(3===r.status||2===r.status){var s=n-se.startPlan+1,f=se.allPlan-se.startPlan;r.sort="".concat(s,"/").concat(f)}i.push(r)})),ne(i);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ue=function(){var e=(0,n.A)(s().mark((function e(){var r,n,a,c,o,u,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.address){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,(0,N.A)({abi:"StructureFundView",address:S.A.StructureFundView,params:[t.address],method:"getInfo",type:"call"});case 4:if(!(r=e.sent)[1][0]){e.next=8;break}return Ee.push("/structuredfundwindingup"),e.abrupt("return");case 8:for(ge(r[2]),n=r[0][0];77-n.length>0;)n="0"+n;for(a=r[0][6];77-a.length>0;)a="0"+a;c=parseInt(n.substring(67,77)),o=parseInt(n.substring(57,67)),u=parseInt(a.substring(67,77)),(i={}).startPlan=o,i.endPlan=c,i.allPlan=u,oe(i);case 21:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),De=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!be.length)return!0;var t=((new Date).getTime()/1e3-1654790400)%86400;return t>=be[0][0]&&t<=be[0][1]||(t>=be[1][0]&&t<=be[1][1]||(t>=be[2][0]&&t<=be[2][1]||(t<be[0][0]?e?be[0][0]-t:"10:00-12:00":t>be[0][1]&&t<be[1][0]?e?be[1][0]-t:"15:00-17:00":t>be[1][1]&&t<be[2][0]?e?be[2][0]-t:"19:00-22:00":t>be[2][1]&&(e?86400+be[0][0]-t:"10:00-12:00"))))};return(0,o.useEffect)((function(){Ce(),je(),ze(),Fe(),Ue()}),[t.address]),(0,o.useEffect)((function(){Be()}),[se,fe]),o.createElement(o.Fragment,null,o.createElement(f.A,null),o.createElement(i.A,null,o.createElement("div",{className:"flex-row fl-jc-between mb-15"},o.createElement("div",{className:"font-size-16 font-weight-500 font-color-white"},r("page.StructuredFund.subscribeGet")),o.createElement("div",{className:"font-size-12 font-color-describe font-weight-bold"},r("page.StructuredFund.subscribeNum",{portionCost:w.A.portionCost}))),o.createElement(l.A,{onChange:ke,placeholder:r("page.StructuredFund.inputinteger"),maxValue:j,value:m,setClean:function(){return ke("")},setMax:function(){return ke("10")}}),o.createElement("div",{className:"flex-row fl-jc-between"},o.createElement("div",{className:"font-color-describe font-size-12 font-weight-500"},r("page.StructuredFund.subscribeTips")),o.createElement("div",{className:"font-color-white font-size-12 font-weight-500"},H," ",w.A.symbol)),o.createElement("div",{className:"flex-row fl-jc-between mt-10"},o.createElement("div",{className:"font-color-white font-size-14 font-weight-500 flex-shrink0"},r("page.StructuredFund.bond"),o.createElement("span",{className:"font-size-12"},r("page.StructuredFund.numConetnt")),r("page.StructuredFund.bondTips")),o.createElement("div",{className:"font-color-white font-size-14 font-weight-500 text-wrap"},Q," USDT")),o.createElement("div",{className:"flex-row fl-jc-between mt-10"},o.createElement("div",{className:"font-color-white font-size-14 font-weight-500 flex-shrink0"},r("common.commission"),o.createElement("span",{className:"font-size-12"},r("page.StructuredFund.proceduresNums"))),o.createElement("div",{className:"font-color-white font-size-14 font-weight-500 text-wrap"},X," USDT")),o.createElement("div",{className:"flex-row fl-jc-between mt-10"},o.createElement("div",{className:"font-color-describe font-size-12 font-weight-500"},r("common.available")),o.createElement("div",{className:"font-color-white font-size-12 font-weight-500"},j," USDT")),o.createElement("div",{className:"divide-line mt-20"}),o.createElement("div",{className:"fund-buy-submit flex-center",onClick:A?Te:ye},A?r("page.StructuredFund.submintMy"):r("common.active_transaction_btn",{name:"USDT"}))),o.createElement(i.A,null,o.createElement("div",{className:"flex-row fl-jc-between fl-ai-center",onClick:function(){Ee.push("/structuredfunddetail/".concat(Ae))}},o.createElement("div",{className:"font-color-describe font-size-14 font-weight-500"},r("common.my_position")),o.createElement("img",{src:"".concat(P.nG,"/icons/ArrowC.png"),width:12,height:10}))),o.createElement(i.A,null,o.createElement("div",{className:"font-size-16 font-weight-500 font-color-white"},r("page.StructuredFund.subscribeCurrent")),o.createElement("div",{className:"divide-line mt-15"}),o.createElement("div",{className:"flex-row mt-10"},o.createElement("div",{className:"fund-record-A font-color-describe font-size-12"},r("page.StructuredFund.subscribeCurrent")),o.createElement("div",{className:"fund-record-B font-color-describe font-size-12 flex-row fl-jc-center"},r("page.StructuredFund.bond")),o.createElement("div",{className:"fund-record-C font-color-describe font-size-12 flex-row fl-jc-center"},r("page.StructuredFund.bianhao")),o.createElement("div",{className:"fund-record-A font-color-describe font-size-12 flex-row fl-jc-center"},r("page.StructuredFund.subscribePai")),o.createElement("div",{className:"fund-record-B font-color-describe font-size-12 flex-row-reserve"},r("page.StructuredFund.status"))),re.map((function(e,t){return o.createElement(B,{depositCallBack:function(){Ue(),Ce(),je()},priceUsdt:_,priceCoin:L,key:t,item:e,reLineUpCallBack:function(){Ue()}})})),o.createElement("div",{className:"mt-20"}),o.createElement(C.dK,{mode:"simple",forceEllipses:!0,value:fe,onChange:function(e){le(e)},totalItems:pe,itemsPerPage:10,showPageSize:3}),!0!==De(!0)&&o.createElement("div",{className:"flex-row fl-jc-between mt-10"},o.createElement("div",{className:"font-color-describe font-size-12 font-weight-500"},r("page.StructuredFund.nextPai")),o.createElement("div",{className:"font-color-white font-size-12 font-weight-500"},De(!1)))),o.createElement("div",{className:"fund-buy-tip flex-center"},w.A.dataTips))}function B(e){var t=(0,g.B)().t,r=(0,o.useState)(!1),n=(0,a.A)(r,2),c=n[0],s=n[1],u=(0,o.useState)(!1),i=(0,a.A)(u,2),f=i[0],l=i[1],d=(0,o.useState)(""),m=(0,a.A)(d,2),v=m[0],w=m[1],h=e.item,b=e.priceCoin,E=e.priceUsdt,A=e.depositCallBack,N=e.reLineUpCallBack,S=function(){s(!0)},F=function(){s(!1)},y=function(){l(!0)},C=function(){l(!1)};(0,o.useEffect)((function(){3===h.status&&w(j().utc(1e3*h.time).format("HH:mm:ss"))})),(0,p.$$)((function(){h.time&&!isNaN(h.time)&&(h.time=h.time-1,w(j().utc(1e3*h.time).format("HH:mm:ss")))}),1e3);var z=(0,p.pZ)((0,p.fm)(h.amount));return o.createElement("div",{className:"flex-row mt-15"},o.createElement("div",{className:"fund-record-A font-color-white font-size-12 font-weight-500"},z/10,t("page.StructuredFund.shareNum")),o.createElement("div",{className:"fund-record-B font-color-white font-size-12 font-weight-500 flex-row fl-jc-center text-wrap"},z,"U"),o.createElement("div",{className:"fund-record-C font-color-white font-size-12 font-weight-500 flex-row fl-jc-center text-wrap"},h.planId),o.createElement("div",{className:"fund-record-A font-color-white font-size-12 font-weight-500 flex-row fl-jc-center"},h.sort||"--"),function(){switch(h.status){case 1:return o.createElement("div",{className:"flex-column fund-record-B fl-ai-end"},o.createElement("div",{className:"fund-record-buy",onClick:S},t("page.StructuredFund.subscribeImmediate")),o.createElement("div",{className:" fund-record-reset  mt-5",onClick:y},t("page.StructuredFund.reloadPai")));case 2:return o.createElement("div",{className:"fund-record-B flex-row-reserve fund-record-wait"},t("page.StructuredFund.waitting"));case 3:return o.createElement("div",{className:"fund-record-B flex-row-reserve fund-record-time text-wrap"},t("page.StructuredFund.nextTime"),t("page.StructuredFund.nextTimeNum",{time:v}));case 4:return o.createElement("div",{className:"fund-record-B flex-row-reserve fund-record-minus text-wrap"},t("page.StructuredFund.bondHasNo"));case 5:return o.createElement("div",{className:"fund-record-B flex-row-reserve fund-record-minus text-wrap"},t("page.StructuredFund.bondOver"));case 6:return o.createElement("div",{className:"fund-record-B flex-row-reserve fund-record-minus text-wrap"},t("page.StructuredFund.bondSuccess"))}}(),o.createElement(x,{detail:h,priceCoin:b,priceUsdt:E,visible:c,onClose:F,onSuccess:function(){F(),A()}}),o.createElement(k,{visible:f,onClose:C,detail:h,priceUsdt:E,onSuccess:function(){C(),N()}}))}var U=r(72864);function D(e){var t=e.userinfo,r=e.activeSuccessCallback,c=(0,g.B)().t,u=(0,o.useState)(""),i=(0,a.A)(u,2),f=i[0],l=i[1],m=function(){var e=(0,n.A)(s().mark((function e(){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:if(n=f||"0x0000000000000000000000000000000000000000",t.address.toLowerCase()!=n.toLowerCase()){e.next=6;break}return d.A.show(c("page.StructuredFund.errorTip")),e.abrupt("return");case 6:if(window.web3.utils.isAddress(n)){e.next=9;break}return d.A.show(c("page.StructuredFund.warnTip")),e.abrupt("return");case 9:if(!f){e.next=17;break}return e.next=12,(0,N.A)({abi:"StructureFund",address:S.A.StructureFund,method:"pIDxAddr_",params:[n],type:"call"});case 12:if(0!=e.sent){e.next=17;break}return d.A.show(c("page.StructuredFund.hasnoUser")),l(""),e.abrupt("return");case 17:return e.next=19,(0,N.A)({abi:"StructureFund",address:S.A.StructureFund,params:[n],method:"register",type:"send",error:function(){return d.A.show(c("common.active_fail"))}});case 19:e.sent?r():d.A.show(c("common.active_fail"));case 21:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return o.createElement(U.A,{visible:!0,width:"90%"},o.createElement("div",{className:"welcomeModal"},o.createElement("img",{className:"modaltitle",src:"".concat(P.nG,"/Banners/CF-STRUCTURED-FUND.png")}),o.createElement("div",{className:"modalLabal mt-5"},c("page.StructuredFund.myAddress")),o.createElement("div",{className:"modalAddress"},(0,p.P1)((null==t?void 0:t.address)||"")),o.createElement("div",{className:"modalLabal"},c("page.StructuredFund.referrer")),o.createElement("input",{value:f,onChange:function(e){l(e.target.value)},className:"modalInput",placeholder:c("page.StructuredFund.inputaddress")}),o.createElement("div",{className:"redcolorText"},c("page.StructuredFund.referrerTips")),o.createElement("div",{className:"approveButton",onClick:function(){f?m():U.A.confirm({title:c("common.tips"),content:c("page.StructuredFund.tipText"),onOk:function(){m()}})}},c("page.StructuredFund.immediatelyApprove")),o.createElement("div",{className:"yellowcolorText"},w.A.dataTips)))}function _(){var e=(0,u.A)(),t=e.setAddress,r=e.user,c=(0,g.B)().t,i=(0,o.useState)(!0),f=(0,a.A)(i,2),l=f[0],m=f[1];(0,o.useEffect)((function(){r.address||t()}),[]);var p=function(){var e=(0,n.A)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=r&&r.address){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,(0,N.A)({abi:"StructureFund",address:S.A.StructureFund,method:"pIDxAddr_",params:[r.address],type:"call"}).catch((function(){return m(!1)}));case 4:(t=e.sent)||m(!1),"0"==t&&m(!1),t>0&&m(!0);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,o.useEffect)((function(){return p()}),[null==r?void 0:r.address]),o.createElement("div",{className:"structuredfundbuy"},o.createElement(T,{userInfo:r}),!l&&o.createElement(D,{userinfo:r,activeSuccessCallback:function(){d.A.show(c("common.active_success")),m(!0)}}))}},16506:(e,t,r)=>{r.d(t,{A:()=>o});var n=r(96540),a=r(13907),c=r(80060),s=r(2889);function o(){var e=(0,a.B)().t;return n.createElement(c.A,null,n.createElement("div",{className:"font-size-16 font-color-white font-weight-500"},s.A.name),n.createElement("div",{className:"divide-line mt-10"}),n.createElement("div",{className:"flex-row fl-jc-between mt-15"},n.createElement("div",{className:" font-color-describe"},e("page.StructuredFund.cycle")),n.createElement("div",{className:"fund-buy-color font-color-describe"},s.A.cycle,e("page.StructuredFund.yield"))),n.createElement("div",{className:"flex-row fl-jc-between mt-10"},n.createElement("div",{className:"font-color-white font-size-14 font-weight-bold"},s.A.cycle),n.createElement("div",{className:"font-color-green font-size-14 font-weight-bold"},s.A.apr)))}}}]);