"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["src_page_AsterProject_pledge_js"],{74352:(e,t,r)=>{r.d(t,{$_:()=>d,Ec:()=>A,G1:()=>p,Ob:()=>l,WG:()=>u,Yy:()=>o,v5:()=>m,ye:()=>f});var a=r(10467),n=r(54756),s=r.n(n),c=r(6572),i=r(14566),d=(r(78015),function(){var e=(0,a.A)(s().mark((function e(t,r){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.A)({abi:"AsterPlanets",address:t,params:[r],method:"allTokenIdsByOwner",type:"call"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),o=function(){var e=(0,a.A)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.A)({abi:"AsterNftChef",address:i.NQ.NFTChef,params:[t],method:"getPool",type:"call"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=(0,a.A)(s().mark((function e(t,r,a){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.A)({abi:"AsterNftChef",address:i.NQ.NFTChef,params:[t,r,a],method:"deposit",type:"send"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r,a){return e.apply(this,arguments)}}(),f=function(){var e=(0,a.A)(s().mark((function e(t,r,a){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.A)({abi:"AsterPlanets",address:t,params:[r,a],method:"isApprovedForAll",type:"call"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r,a){return e.apply(this,arguments)}}(),p=function(){var e=(0,a.A)(s().mark((function e(t,r){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.A)({abi:"AsterPlanets",address:t,params:[r,!0],method:"setApprovalForAll",type:"send"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),l=function(){var e=(0,a.A)(s().mark((function e(t,r,a){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.A)({abi:"AsterNftChef",address:i.NQ.NFTChef,params:[t,[r],a],method:"withdraw",type:"send"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r,a){return e.apply(this,arguments)}}(),m=function(){var e=(0,a.A)(s().mark((function e(t,r){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.A)({abi:"AsterNftChef",address:i.NQ.NFTChef,params:[t,r],method:"claim",type:"send"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),A=function(){var e=(0,a.A)(s().mark((function e(t,r,a){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.A)({abi:"AsterPlanetsChef",address:t,params:[r,a],method:"claim",type:"send"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r,a){return e.apply(this,arguments)}}()},14566:(e,t,r)=>{r.d(t,{NQ:()=>c,lz:()=>i,mk:()=>d});var a=r(78015),n=r(47127),s=r(16889),c={development:{ASTER:"0x0D155E9BB697cbc1344F69617aa65b9157B5F00a",NFTChef:"0xF8AD6e37C52cd0404Fc3CD48011E66E5c6Da2D65",PlanetsChef:"0xa17E771E1E1bA9442DBD312321cD03be44Dd2E3E",earthNftAddress:"0x2927B26cc1A121D8E4FAC68eA46aA56115307136",venusNftAddress:"0x9B837D80dcCEd821F39AF562127a9453961769F5",jupiterNftAddress:"0x83F406A50deF010a74ce3278d20bff412543B0E2",mercuryNftAddress:"0xBc632e4bEc7cbDBB3F04b671a62480dbF4FE2283",marsNftAddress:"0xDF9814d73f5515aB2328F25F5920DA8bdf8bc79F",saturnNftAddress:"0x314944af7e24366b161d3364EfEd18Fa94480118",earthPid:0,venusPid:1,jupiterPid:2,mercuryPid:3,marsPid:4,saturnPid:5,aliothNftAddress:"0xC77B314113b64CFb940bF643C8D5cD49557B9877",megrezNftAddress:"0xABe9eD11E36b9f5E6EB839B663b8d5A5739410a3",phecdaNftAddress:"0xF466baE0C8Fa1405E8f4e8da43e9F364bc79fF13",merakNftAddress:"0x103D3112E184e7F3A32bD51cdEf434774949337f",dubheNftAddress:"0x52a3606f7157850eadd64B0dEfc2f75E51B921F4",BigDipperChef:"0x290e65Cad2A211ac4c478C5Fbf0A8802889F9FD2",aliothPid:22,megrezPid:23,phecdaPid:24,merakPid:25,dubhePid:26},production:{ASTER:"0x846b8F848bd3e55183E03DBc8170655947Cc3C2c",NFTChef:"0x3bd3F2215c288e5ac292E68D2B76079376CFd228",PlanetsChef:"0xC48B3819E7073c5213FA6289f591329E5F2a7552",earthNftAddress:"0x66cA875719c4a17cF2687f3c7f4E9593e345704c",venusNftAddress:"0xe8d4E5f108B321C99bB247A23BdC77035D32774B",jupiterNftAddress:"0xe2e9c43e06237cB6B02fc384fD142f6214fE1E3D",mercuryNftAddress:"0xC2E43358c34ad13D54765877f7E774629A03a4df",marsNftAddress:"0x72353CD81D6C8922BE0A24904fE68E8d36F6302b",saturnNftAddress:"0xAfb1dEce67488Da1C7F7561e84c1f4Ca45Fa142e",earthPid:0,venusPid:1,jupiterPid:2,mercuryPid:3,marsPid:4,saturnPid:5,aliothNftAddress:"0x813Aca75B1c3E474E26dB94f31eDfD69E91a5aBc",megrezNftAddress:"0xF8C191F978d06cFECe9C3a0c4a9376e389506174",phecdaNftAddress:"0x8585160B0a2beB7F8157d17Cfe80d7D04D1939D4",merakNftAddress:"0xEe06F2cd4F70b699df0ba7177d4460d5a17d906C",dubheNftAddress:"0x8aCc448AC1B6f9c8d2D3c466483F4863B1ea005a",BigDipperChef:"0x8F0D89B1ae8525C39e47F0d08e318918a4742799",aliothPid:9,megrezPid:10,phecdaPid:11,merakPid:12,dubhePid:13}}[a._],i=[{address:c.earthNftAddress,img:"".concat(s.nG,"/icons/earth.png"),name:n.A.t("page.AsterProject.earth"),price:28.33,pid:c.earthPid},{address:c.venusNftAddress,img:"".concat(s.nG,"/icons/venus.png"),name:n.A.t("page.AsterProject.venus"),price:100,pid:c.venusPid},{address:c.jupiterNftAddress,img:"".concat(s.nG,"/icons/jupiter.png"),name:n.A.t("page.AsterProject.jupiter"),price:200,pid:c.jupiterPid},{address:c.mercuryNftAddress,img:"".concat(s.nG,"/icons/mercury.png"),name:n.A.t("page.AsterProject.mercury"),price:500,pid:c.mercuryPid},{address:c.marsNftAddress,img:"".concat(s.nG,"/icons/mars.png"),name:n.A.t("page.AsterProject.mars"),price:1e3,pid:c.marsPid},{address:c.saturnNftAddress,img:"".concat(s.nG,"/icons/saturn.png"),name:n.A.t("page.AsterProject.saturn"),price:2e3,pid:c.saturnPid}],d=[{address:c.aliothNftAddress,img:"".concat(s.nG,"/icons/alioth.png"),name:n.A.t("page.AsterProject.alioth"),price:50,pid:c.aliothPid},{address:c.megrezNftAddress,img:"".concat(s.nG,"/icons/megrez.png"),name:n.A.t("page.AsterProject.megrez"),price:200,pid:c.megrezPid},{address:c.phecdaNftAddress,img:"".concat(s.nG,"/icons/phecda.png"),name:n.A.t("page.AsterProject.phecda"),price:500,pid:c.phecdaPid},{address:c.merakNftAddress,img:"".concat(s.nG,"/icons/merak.png"),name:n.A.t("page.AsterProject.merak"),price:1e3,pid:c.merakPid},{address:c.dubheNftAddress,img:"".concat(s.nG,"/icons/dubhe.png"),name:n.A.t("page.AsterProject.dubhe"),price:2e3,pid:c.dubhePid}]},92384:(e,t,r)=>{r.r(t),r.d(t,{default:()=>w});var a=r(10467),n=r(80296),s=r(54756),c=r.n(s),i=r(96540),d=r(13907),o=r(80060),u=r(14566),f=r(5611),p=r(74352),l=r(84973),m=r(88878),A=r(9770),h=r(82045),g=r(56347),N=r(18823),b=r(60346),v=r(44040),E=(r(70750),r(10655),r(35733)),P=r(78015),x=r(16889);function w(){var e=(0,d.B)().t,t=(0,l.A)().user,r=(0,g.W6)(),s=(0,i.useState)(""),w=(0,n.A)(s,2),F=w[0],y=w[1],C=(0,i.useState)(!1),B=(0,n.A)(C,2),k=B[0],D=B[1],j=(0,i.useState)({}),z=(0,n.A)(j,2),S=z[0],T=z[1],G=(0,i.useState)("0"),_=(0,n.A)(G,2),Q=_[0],R=_[1],V=(0,i.useState)([]),W=(0,n.A)(V,2),Z=W[0],$=W[1],O=(0,i.useState)(!0),U=(0,n.A)(O,2),Y=U[0],I=U[1],L=(0,i.useState)("0"),q=(0,n.A)(L,2),H=q[0],J=q[1],K=(0,i.useState)("0"),M=(0,n.A)(K,2),X=M[0],ee=M[1],te=(0,i.useState)([]),re=(0,n.A)(te,2),ae=re[0],ne=re[1],se=(0,g.W5)(),ce=function(){var e=(0,a.A)(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y(t.address),T({price:t.price,pid:t.pid,img:t.img}),ie(t.address,t.img);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ie=function(){var e=(0,a.A)(c().mark((function e(r,a){var n,s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.address){e.next=2;break}return e.abrupt("return");case 2:return I(!0),e.next=5,(0,p.$_)(r,t.address).catch((function(){}));case 5:n=e.sent,s=[],n.map((function(e){s.push({img:a,id:e})})),$(s),I(!1);case 10:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),de=function(){var e=(0,a.A)(c().mark((function e(){var r,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(S&&S.price&&t.address){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,(0,p.Yy)(S.pid);case 4:r=e.sent,a=(0,b.g)(r.deposit).multipliedBy(S.price),a=(0,v.pZ)(a),R(a),oe(a);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),oe=function(){var e=(0,a.A)(c().mark((function e(t){var r,a,n,s,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=[{abi:"AsterNftChef",address:u.NQ.NFTChef,params:[],method:"v42PerBlock"},{abi:"AsterNftChef",address:u.NQ.NFTChef,params:[S.pid],method:"getPool"},{abi:"AsterNftChef",address:u.NQ.NFTChef,params:[],method:"totalAllocPoint"},{abi:"ParaPeriphery",address:P.A.ParaPeriphery,params:[P.A.V42NEW,P.A.USDT,P.A.ParaRouter],method:"getPrice"},{abi:"AsterPlanetsChef",address:"1"===se.params.type?u.NQ.PlanetsChef:u.NQ.BigDipperChef,params:[S.pid],method:"rewardPerBlock"},{abi:"ParaPeriphery",address:P.A.ParaPeriphery,params:[u.NQ.ASTER,P.A.USDT,P.A.ParaRouter],method:"getPrice"}],e.next=3,(0,E.A)(r);case 3:a=e.sent,n=(0,b.g)((0,v.fm)(a[0])).multipliedBy(a[1].allocPoint).dividedBy(a[2]),s=n.dividedBy(3).multipliedBy(86400).multipliedBy(365).multipliedBy((0,v.fm)(a[3])).dividedBy(t).multipliedBy(100),ee((0,v.pZ)(s,2)),i=(0,b.g)((0,v.fm)(a[4])).dividedBy(3).multipliedBy(86400).multipliedBy(365).multipliedBy((0,v.fm)(a[5])).dividedBy(t).multipliedBy(100),J((0,v.pZ)(i,2));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ue=function(){var e=(0,a.A)(c().mark((function e(){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(F&&t.address){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,(0,p.ye)(F,t.address,u.NQ.NFTChef);case 4:r=e.sent,D(r);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),fe=function(){var r=(0,a.A)(c().mark((function r(){return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(F&&t.address){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,(0,p.G1)(F,u.NQ.NFTChef).catch((function(){}));case 4:r.sent?(D(!0),m.A.show(e("common.active_success"))):m.A.show(e("common.active_fail"));case 6:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),pe=function(){var r=(0,a.A)(c().mark((function r(a){return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t.address){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,(0,p.WG)(S.pid,[a],t.address);case 4:r.sent?(ie(F,S.img),de(),m.A.show(e("page.PledgeV42.pledge_tip_success"))):m.A.show(e("page.AsterProject.pledge_fail"));case 6:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}();return(0,i.useEffect)((function(){"1"===se.params.type?(y(u.NQ.earthNftAddress),T({price:u.lz[0].price,pid:u.lz[0].pid,img:u.lz[0].img}),ne(u.lz)):(y(u.NQ.aliothNftAddress),T({price:u.mk[0].price,pid:u.mk[0].pid,img:u.mk[0].img}),ne(u.mk))}),[]),(0,i.useEffect)((function(){"1"===se.params.type?ie(u.NQ.earthNftAddress,"".concat(x.nG,"/icons/earth.png")):ie(u.NQ.aliothNftAddress,"".concat(x.nG,"/icons/alioth.png"))}),[null==t?void 0:t.address]),(0,i.useEffect)((function(){de(),ue()}),[F,t.address]),i.createElement("div",null,i.createElement("div",{className:"font-color-white mt-10 font-weight-500 font-size-16 ml-20"},e("page.AsterProject.nft_mining")),i.createElement("div",{className:"divide-line mt-10 ml-20 mr-20"}),i.createElement(o.A,{bgColor:"#141416"},i.createElement("div",{className:"flex-row fl-ai-center fl-jc-between"},i.createElement("div",{className:"font-weight-500 font-color-white ",style:{fontSize:"2rem"}},e("utils.tool.pledge"),"NFT"),i.createElement("div",{className:"font-weight-400 font-size-12",style:{color:"#FF7F00"}},e("utils.tool.earn")," Aster&V42")),i.createElement("div",{className:"flex-row fl-ai-center fl-jc-between mt-15"},i.createElement("div",{className:"flex-column"},i.createElement("div",{className:"font-weight-400 font-color-describe font-size-12"},"TVL"),i.createElement("div",{className:"font-weight-bold font-color-white font-size-14 mt-5"},"$",Q)),i.createElement("div",{className:"flex-column"},i.createElement("div",{className:"font-weight-400 font-color-describe font-size-12"},"Aster APR"),i.createElement("div",{className:"font-weight-bold font-color-green font-size-14 mt-5"},H,"%")),i.createElement("div",{className:"flex-column"},i.createElement("div",{className:"font-weight-400 font-color-describe font-size-12"},"V42 APR"),i.createElement("div",{className:"font-weight-bold font-color-green font-size-14 mt-5"},X,"%")))),i.createElement("div",{className:"aster-nft-list"},ae.map((function(e,t){return i.createElement("div",{onClick:function(){return ce(e)},className:"hnl-item flex-column fl-jc-center fl-ai-center ".concat(e.address===F&&"hnl-item-border-check"),key:t},i.createElement("img",{src:e.img,className:"aster-img"}),i.createElement("div",{className:"font-weight-400 font-color-white font-size-14 mt-10"},e.name),i.createElement("div",{className:"hln-item-check"},i.createElement(f.Sc,{iconSize:"14px",checked:e.address===F})))}))),Z.length<=0&&Y&&i.createElement("div",{className:"ags-loading"},i.createElement(A.A,null)),Z.length<=0&&!Y&&i.createElement(f.Sv,{description:e("page.PreSaleNFT.sale_no_canuse")}),Z.map((function(t,r){return i.createElement(o.A,{bgColor:"#141416",key:r},i.createElement("div",{className:"flex-row fl-jc-between fl-ai-center"},i.createElement("img",{src:t.img,className:"aster-img"}),i.createElement("div",{className:"flex-column fl-jc-between ml-10 flex-1",style:{height:"4.4rem"}},i.createElement("div",{className:"font-color-describe font-size-12 font-weight-400"},e("page.StructuredFund.bianhao")),i.createElement("div",{className:"font-color-white font-size-16 font-weight-500"},t.id)),i.createElement("div",{className:"aster-button-pledge flex-center button-click",onClick:function(){return k?pe(t.id):fe()}},e(k?"page.DaoAggregationPool.once_pledge":"component.DaoClaimProfit.activate_transaction"))))})),i.createElement(o.A,{bgColor:"#141416"},i.createElement("div",{className:"flex-row fl-jc-between fl-ai-center",onClick:function(){return r.push("/asterStore/".concat(se.params.type))}},i.createElement("div",{className:"font-color-white font-weight-400 font-size-14"},e("common.my_position")),i.createElement(h.i3G,{className:"font-color-describe"}))),i.createElement("img",{src:N.A,className:"bottom-home",onClick:function(){return r.push("/")}}))}}}]);