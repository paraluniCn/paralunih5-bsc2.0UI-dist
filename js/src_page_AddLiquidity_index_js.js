"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["src_page_AddLiquidity_index_js"],{35945:(e,t,r)=>{r.d(t,{dj:()=>u,nQ:()=>o});var n=r(10467),a=r(54756),s=r.n(a),c=r(6572),i=r(78015),u=function(){var e=(0,n.A)(s().mark((function e(t,r){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.A)({abi:"ParaFactory",address:i.A.ParaFactory,params:[t,r],method:"getPair",type:"call"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),o=function(){var e=(0,n.A)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.A)({abi:"ParaFactory",address:i.A.ParaFactory,params:[],method:"allPairsLength",type:"call"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},38136:(e,t,r)=>{r.d(t,{D:()=>u,H:()=>o});var n=r(10467),a=r(54756),s=r.n(a),c=r(6572),i=r(78015),u=function(){var e=(0,n.A)(s().mark((function e(t,r,n,a,u){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.A)({abi:"router",address:i.A.ParaRouter,params:[t,r,n,a,"0","0",u,"9999999999"],method:"addLiquidity",type:"send"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r,n,a,s){return e.apply(this,arguments)}}(),o=function(){var e=(0,n.A)(s().mark((function e(t,r,n,a){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.A)({abi:"router",address:i.A.ParaRouter,params:[t,r,n,"0","0",a,"9999999999"],method:"removeLiquidity",type:"send"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r,n,a){return e.apply(this,arguments)}}()},51519:(e,t,r)=>{r.d(t,{$:()=>o,Q:()=>u});var n=r(10467),a=r(54756),s=r.n(a),c=r(78015),i=r(6572),u=function(){var e=(0,n.A)(s().mark((function e(t,r){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.A)({abi:"ParaStableSwap",address:c.A.ParaStableSwap,params:[t,r],method:"add_liquidity",type:"send"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),o=function(){var e=(0,n.A)(s().mark((function e(t,r){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.A)({abi:"ParaStableSwap",address:c.A.ParaStableSwap,params:[t,r],method:"remove_liquidity",type:"send"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},12936:(e,t,r)=>{r.r(t),r.d(t,{default:()=>C});var n=r(10467),a=r(80296),s=r(54756),c=r.n(s),i=r(96540),u=r(13907),o=r(80060),d=(r(5611),r(82045)),l=r(89541),m=r(92081),f=r(34285),p=r(35945),b=r(88878),h=r(70750),v=r(84973),x=r(38136),w=r(44040),y=r(10655),A=r(60346),g=r(78015),k=r(94292),S=r(84822),E=r(56347),P=r(35733),_=r(51519),N=r(2543),D=r(16889);function C(){var e=(0,u.B)().t,t=(0,i.useState)({symbol:"请选择",address:"",img:"".concat(D.nG,"/icons/coin_default_img.png")}),r=(0,a.A)(t,2),s=r[0],C=r[1],U=(0,i.useState)({symbol:"请选择",address:"",img:"".concat(D.nG,"/icons/coin_default_img.png")}),q=(0,a.A)(U,2),L=q[0],B=q[1],F=(0,i.useState)("0"),G=(0,a.A)(F,2),R=G[0],z=G[1],T=(0,i.useState)("0"),j=(0,a.A)(T,2),Q=j[0],H=j[1],W=(0,i.useState)(""),Z=(0,a.A)(W,2),M=Z[0],J=Z[1],V=(0,i.useState)(""),Y=(0,a.A)(V,2),$=Y[0],I=Y[1],K=(0,i.useState)(""),O=(0,a.A)(K,2),X=O[0],ee=O[1],te=(0,i.useState)(!1),re=(0,a.A)(te,2),ne=re[0],ae=re[1],se=(0,i.useState)(!1),ce=(0,a.A)(se,2),ie=ce[0],ue=ce[1],oe=(0,E.W6)(),de=(0,f.A)(),le=de.tokenNewList,me=de.tokenList,fe=(0,v.A)().user,pe=(0,i.useRef)(),be=function(){var e=(0,n.A)(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(J(t),s.address&&t){e.next=5;break}return J(""),I(""),e.abrupt("return");case 5:Pe(t,s.address,"first");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),he=function(){var e=(0,n.A)(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(I(t),L.address&&t){e.next=5;break}return J(""),I(""),e.abrupt("return");case 5:_e(t,L.address,"second");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ve=function(e,t){pe.current.showModal(e,t)},xe=function(){var e=(0,n.A)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.address&&L.address){e.next=2;break}return e.abrupt("return");case 2:if("PUSD"!==s.symbol&&"PUSD"!==L.symbol){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,(0,p.dj)(s.address,L.address);case 6:t=e.sent,ee(t);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),we=function(){var e=(0,n.A)(c().mark((function e(){var t,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(fe.address&&s.address){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,(0,h.Ht)("BNB"===s.symbol?"":s.address);case 4:return t=e.sent,e.next=7,(0,h.QJ)("BNB"===s.symbol?"":s.address,fe.address,t);case 7:r=e.sent,z(r);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ye=function(){var e=(0,n.A)(c().mark((function e(){var t,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(fe.address&&L.address){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,(0,h.Ht)("BNB"===L.symbol?"":L.address);case 4:return t=e.sent,e.next=7,(0,h.QJ)("BNB"===L.symbol?"":L.address,fe.address,t);case 7:r=e.sent,H(r);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ae=function(){var e=(0,n.A)(c().mark((function e(){var t,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.address&&null!=fe&&fe.address){e.next=2;break}return e.abrupt("return");case 2:return t="PUSD"===s.symbol||"PUSD"===L.symbol?g.A.ParaStableSwap:g.A.ParaRouter,e.next=5,(0,h.N6)(s.address,fe.address,t);case 5:r=e.sent,ae("0"!==r);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ge=function(){var e=(0,n.A)(c().mark((function e(){var t,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(L.address&&null!=fe&&fe.address){e.next=2;break}return e.abrupt("return");case 2:return t="PUSD"===s.symbol||"PUSD"===L.symbol?g.A.ParaStableSwap:g.A.ParaRouter,e.next=5,(0,h.N6)(L.address,fe.address,t);case 5:r=e.sent,ue("0"!==r);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ke=function(){var t=(0,n.A)(c().mark((function t(){var r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="PUSD"===s.symbol||"PUSD"===L.symbol?g.A.ParaStableSwap:g.A.ParaRouter,t.next=3,(0,k.Wi)(s.address,r).catch((function(){}));case 3:t.sent?(b.A.show(e("common.active_success")),ae(!0)):b.A.show(e("common.active_fail"));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Se=function(){var t=(0,n.A)(c().mark((function t(){var r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="PUSD"===s.symbol||"PUSD"===L.symbol?g.A.ParaStableSwap:g.A.ParaRouter,t.next=3,(0,k.Wi)(L.address,r).catch((function(){}));case 3:t.sent?(b.A.show(e("common.active_success")),ue(!0)):b.A.show(e("common.active_fail"));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Ee=function(){var e=(0,n.A)(c().mark((function e(t,r,n){var a,i,u,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("0x0000000000000000000000000000000000000000"!==X){e.next=2;break}return e.abrupt("return");case 2:if("PUSD"!==s.symbol&&"PUSD"!==L.symbol){e.next=13;break}return e.next=5,(0,h.AH)();case 5:if(a=e.sent,"first"!==n){e.next=11;break}return I((0,w.pZ)((0,A.g)(t).multipliedBy(a))),e.abrupt("return");case 11:J((0,w.pZ)((0,A.g)(t).dividedBy(a)));case 12:return e.abrupt("return");case 13:return i=[{abi:"erc20",address:s.address,params:[],method:"decimals"},{abi:"erc20",address:L.address,params:[],method:"decimals"}],e.next=16,(0,P.A)(i);case 16:return u=e.sent,e.next=19,(0,y.Bs)((0,w.Gh)(t,"first"===n?u[0]:u[1]).toFixed(),r,X);case 19:o=e.sent,"first"===n?I((0,w.pZ)((0,w.fm)(o,u[1]))):J((0,w.pZ)((0,w.fm)(o,u[0])));case 21:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),Pe=(0,w.d7)(Ee,300),_e=(0,w.d7)(Ee,300),Ne=function(){var t=(0,n.A)(c().mark((function t(){var r,n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s.address){t.next=3;break}return b.A.show("请选择第一个币种"),t.abrupt("return");case 3:if(L.address){t.next=6;break}return b.A.show("请选择第二个币种"),t.abrupt("return");case 6:if(s.address!==L.address){t.next=9;break}return b.A.show("请选择两个不一样的币种"),t.abrupt("return");case 9:if(!(0,A.g)(M).isGreaterThan(R)){t.next=12;break}return b.A.show("所选第一个币种余额不足"),t.abrupt("return");case 12:if(!(0,A.g)($).isGreaterThan(Q)){t.next=15;break}return b.A.show("所选第二个币种余额不足"),t.abrupt("return");case 15:return r=[{abi:"erc20",address:s.address,params:[],method:"decimals"},{abi:"erc20",address:L.address,params:[],method:"decimals"}],t.next=18,(0,P.A)(r);case 18:if(n=t.sent,"PUSD"!==s.symbol&&"PUSD"!==L.symbol){t.next=25;break}return t.next=22,(0,_.Q)([(0,w.Gh)(M,n[0]).toFixed(),(0,w.Gh)($,n[1]).toFixed()],0);case 22:return t.sent?(b.A.show(e("page.AddLiquidity.add_success")),we(),ye()):b.A.show(e("page.AddLiquidity.add_fail")),t.abrupt("return");case 25:return t.next=27,(0,x.D)(s.address,L.address,(0,w.Gh)(M,n[0]).toFixed(),(0,w.Gh)($,n[1]).toFixed(),fe.address).catch((function(){}));case 27:t.sent?(b.A.show(e("page.AddLiquidity.add_success")),we(),ye()):b.A.show(e("page.AddLiquidity.add_fail"));case 29:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(0,i.useEffect)((function(){xe(),Ae(),ge()}),[s,L]),(0,i.useEffect)((function(){we(),ye()}),[s,L,null==fe?void 0:fe.address]),i.createElement(i.Fragment,null,i.createElement("div",{style:{fontSize:"2.4rem"},className:"ml-20 font-weight-500 font-color-white mt-10"},e("page.AddLiquidity.add_liquidity")),i.createElement(o.A,{bgColor:"#141419"},i.createElement("div",{className:"font-size-16 font-color-white font-weight-500"},e("page.AddLiquidity.choose_token")),i.createElement("div",{className:"divide-line mt-10"}),"0x0000000000000000000000000000000000000000"===X&&i.createElement("div",{className:"flex-row add_liq_tip mt-20"},i.createElement(d.EY4,{style:{color:"#FF24AB",fontSize:"18px"}}),i.createElement("div",{className:"add_liq_tip-text ml-5"},e("page.AddLiquidity.no_liquidity_tip"))),i.createElement("div",{className:"flex-row fl-ai-center fl-jc-between mt-20 mb-10"},i.createElement("div",{className:"flex-row fl-ai-center",onClick:function(){ve(s.symbol,"first")}},i.createElement("img",{src:s.img,width:20,height:20}),i.createElement("div",{className:"font-color-white font-size-16 ml-5"},s.symbol),i.createElement("img",{src:l.A,width:10,height:5,className:"ml-10"})),i.createElement("div",{className:"font-size-12 font-color-describe font-weight-bold"},e("common.available"),"：",R)),i.createElement(m.A,{onChange:be,inputClass:"inputRef-inputClass",inputmaxClass:"inputRef-inputmaxClass",value:M,placeholder:e("common.enter_number"),maxValue:R,setMax:function(){return be(R)},setClean:function(){return be("")}}),i.createElement("div",{className:"flex-row fl-ai-center fl-jc-center"},i.createElement(d.FWt,{style:{color:"#707070",fontSize:"24px",marginTop:"1rem"}})),i.createElement("div",{className:"flex-row fl-ai-center fl-jc-between mt-20 mb-10"},i.createElement("div",{className:"flex-row fl-ai-center",onClick:function(){ve(s.symbol,"second")}},i.createElement("img",{src:L.img,width:20,height:20}),i.createElement("div",{className:"font-color-white font-size-16 ml-5"},L.symbol),i.createElement("img",{src:l.A,width:10,height:5,className:"ml-10"})),i.createElement("div",{className:"font-size-12 font-color-describe font-weight-bold"},e("common.available"),"：",Q)),i.createElement(m.A,{onChange:he,inputClass:"inputRef-inputClass",inputmaxClass:"inputRef-inputmaxClass",value:$,placeholder:e("common.enter_number"),maxValue:Q,setMax:function(){return he(Q)},setClean:function(){return he("")}}),(!ne||!ie)&&s.address&&L.address&&i.createElement("div",{className:"flex-row fl-jc-between"},!ne&&i.createElement("div",{className:"height-44 button-common flex-1 button-click mt-30",onClick:ke},e("page.LPDoubleEnter.enter_active_name",{name:s.symbol})),!ie&&i.createElement("div",{className:"height-44 button-common flex-1 button-click mt-30 ".concat(!ne&&"ml-10"),onClick:Se},e("page.LPDoubleEnter.enter_active_name",{name:L.symbol}))),(!s.address||!L.address||ne&&ie)&&i.createElement("div",{className:"height-44 button-common button-click mt-30",onClick:Ne},e("page.AddLiquidity.submit_add")),i.createElement("div",{className:"divide-line mt-30"}),i.createElement("div",{className:"flex-row fl-ai-center fl-jc-between height-44 mt-5",onClick:function(){oe.push("/addLiquidityStore")}},i.createElement("div",{className:"font-weight-500 font-color-describe font-size-14"},e("common.my_position")),i.createElement(d.i3G,{className:"font-color-describe font-size-12"})),i.createElement(S.A,{ref:pe,onCallback:function(e,t){if(e.symbol!==s.symbol&&e.symbol!==L.symbol)if("first"===t){if("PUSD"===e.symbol)return C(e),void B({address:g.A.USDT,symbol:"USDT",decimal:18,img:"".concat(D.nG,"/products/USDT@2x.png")});C(e)}else if("second"===t){if("PUSD"===e.symbol)return B(e),void C({address:g.A.USDT,symbol:"USDT",decimal:18,img:"".concat(D.nG,"/products/USDT@2x.png")});B(e)}},list:(0,N.uniqBy)(me.concat(le),"address")})))}}}]);