"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["src_page_NftPledgeMining_store_js"],{92831:(e,t,r)=>{r.r(t),r.d(t,{default:()=>b});var n=r(10467),a=r(80296),s=r(54756),c=r.n(s),i=r(96540),o=r(13907),l=r(80060),f=r(84973),m=r(81067),u=r(35733),d=r(60346),p=r(44040),h=r(10655),w=r(74352),g=r(88878),v=r(78015),N=r(56347);function b(){var e=(0,N.W5)(),t=(0,o.B)().t,r=(0,f.A)().user,s=(0,i.useState)("0"),b=(0,a.A)(s,2),E=b[0],A=b[1],x=(0,i.useState)("0"),k=(0,a.A)(x,2),_=k[0],y=k[1],C=(0,i.useState)("0"),S=(0,a.A)(C,2),z=S[0],F=S[1],T=(0,i.useState)([]),j=(0,a.A)(T,2),P=j[0],$=j[1],G=(0,i.useState)([]),W=(0,a.A)(G,2),B=W[0],M=W[1],O=(0,N.W6)(),Q=e.params.type,U=[m.lz,m.kF,m.Af][Q],V=function(){var e=(0,n.A)(c().mark((function e(){var t,n,a,s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.address){e.next=2;break}return e.abrupt("return");case 2:return t=[],U.map((function(e){t.push({abi:"AsterNftChef",address:m.NQ.NFTChef,method:"getUserPoolTokenIds",params:[e.pid,r.address]})})),e.next=6,(0,u.A)(t);case 6:n=e.sent,a=(0,d.g)(0),s=[],n.map((function(e,t){e.map((function(e){(0,d.g)(e).isGreaterThanOrEqualTo((0,p.Gh)(10))||(a=a.plus(U[t].price),s.push({name:U[t].name,price:U[t].price,id:e,img:U[t].img,pid:U[t].pid}))}))})),A((0,p.pZ)(a)),$(s);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=(0,n.A)(c().mark((function e(){var t,n,a,s,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.address){e.next=2;break}return e.abrupt("return");case 2:return t=[],n=(0,d.g)(0),U.map((function(e){t.push({abi:"AsterNftChef",address:m.NQ.NFTChef,method:"pendingV42",params:[e.pid,r.address]}),t.push({abi:"AsterNftChef",address:m.NQ.NFTChef,method:"getUserPool",params:[r.address,e.pid]})})),e.next=7,(0,u.A)(t);case 7:return(a=e.sent).map((function(e){n=e.reward?n.plus(e.reward):n.plus(e)})),y((0,p.pZ)((0,p.fm)(n))),e.next=12,(0,h.WT)(v.A.V42NEW);case 12:s=e.sent,F((0,p.pZ)((0,d.g)((0,p.fm)(n)).multipliedBy(s),2)),i=[],U.map((function(e,t){((0,d.g)(a[2*t]).isGreaterThan(0)||(0,d.g)(a[2*t+1].reward).isGreaterThan(0))&&i.push(e.pid)})),M(i);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=(0,n.A)(c().mark((function e(n,a){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.address){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,(0,w.Ob)(n,a,r.address).catch((function(){}));case 4:e.sent?(g.A.show(t("page.DaoStore.getpriceSuccess")),V()):g.A.show(t("page.DaoStore.getpriceFail"));case 6:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),D=function(){var e=(0,n.A)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.address&&B.length){e.next=2;break}return e.abrupt("return");case 2:if(!(0,d.g)(_).isLessThanOrEqualTo(0)){e.next=5;break}return g.A.show(t("page.Mine.mine_no_award")),e.abrupt("return");case 5:return e.next=7,(0,w.v5)(B,r.address).catch((function(){}));case 7:e.sent?(g.A.show(t("page.FinanceStore.get_price_success")),Z()):g.A.show(t("page.FinanceStore.get_price_fail"));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,i.useEffect)((function(){V(),Z()}),[null==r?void 0:r.address]),(0,p.$$)((function(){Z()}),5e3),i.createElement(i.Fragment,null,i.createElement("div",{className:"ml-20 mt-10 font-color-white font-size-16 font-weight-500"},t("common.my_position")),i.createElement("div",{className:"divide-line mt-10"}),i.createElement(l.A,{bgColor:"#141416"},i.createElement("div",{className:"flex-row fl-ai-center fl-jc-between"},i.createElement("div",{className:"font-weight-400 font-color-describe font-size-12"},t("page.AsterProject.nft_all_cost")),i.createElement("div",{className:"font-color-white font-weight-500",style:{fontSize:"2.4rem"}},"$",E)),i.createElement("div",{className:"divide-line mt-10"}),i.createElement("div",{className:"flex-row fl-ai-center fl-jc-between mt-10"},i.createElement("div",{className:"flex-column"},i.createElement("div",{className:"font-size-12 font-color-describe"},"V42",t("page.AsterProject.current_profit")),i.createElement("div",{className:"flex-row fl-ai-center mt-5 text-wrap"},i.createElement("div",{className:"font-weight-bold font-color-white",style:{fontSize:"2rem"}},_),i.createElement("div",{className:"font-size-12  font-color-describe font-weight-bold"},"≈ $",z))),i.createElement("div",{className:"button-claim button-click flex-center",onClick:D},t("page.Mine.mine_one_click_get"))),i.createElement("div",{className:"mt-10 font-size-12 font-weight-500",style:{color:"#FF24AB"}},"v42收益遵循二八原则，需前往平行宇宙官网",i.createElement("span",{onClick:function(){return O.push("/daolptransactionbuy/".concat(v.A.SousChefToUsdtPid))},className:"font-size-14",style:{color:"#0046FF"}}," https://paraluni.org "),"打底池，原力值满方可自由交易。")),i.createElement("div",{className:"ml-20 mt-20 font-color-white font-size-16 font-weight-500"},t("page.AsterProject.my_nft_list")),P.map((function(e,r){return i.createElement(l.A,{bgColor:"#141416",key:r},i.createElement("div",{className:"nr-item flex-row fl-ai-center fl-jc-between"},i.createElement("div",{className:"flex-row fl-ai-center"},i.createElement("img",{src:e.img,width:52,height:52,style:{borderRadius:"0.8rem"}}),i.createElement("div",{className:"flex-column ml-10"},i.createElement("div",{className:"font-size-16 font-color-white font-weight-500"},e.name),i.createElement("div",{className:"font-size-12 font-weight-400 font-color-describe mt-10"},"编号：",e.id))),i.createElement("div",{className:"flex-row"},i.createElement("div",{className:"nr-item-button flex-center"},"$ ",e.price))),i.createElement("div",{className:"nr-item-withdraw mt-10 flex-center",onClick:function(){return q(e.pid,e.id)}},t("page.AsterProject.once_withdraw")))})))}}}]);